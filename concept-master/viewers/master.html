<!DOCTYPE html>
<html lang="ja" data-theme="dark" data-lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Domain AI Company — Design System</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    /* ===================================================================
       CONCEPT PLACEHOLDERS
       Replace the following values with your concept's design tokens.
       See GUIDE.md for the complete placeholder reference.
       =================================================================== */

    /* === PRIMARY COLOR SCALE === */
    /* TODO: Replace with {{PRIMARY_BASE_HEX}} and generate shades 50-950 */
    --primary-50:#eef1f8;--primary-100:#dae1f1;--primary-200:#b8c5e3;--primary-300:#8fa5d4;
    --primary-400:#6b84c0;--primary-500:#5068a4;--primary-600:#445076;--primary-700:#363f60;
    --primary-800:#292f47;--primary-900:#1c2035;--primary-950:#0f1220;

    /* === SECONDARY COLOR SCALE === */
    /* TODO: Replace with secondary color concept (if applicable) */
    --secondary-50:#f9fafc;--secondary-100:#eef0f5;--secondary-200:#d7dded;--secondary-300:#b5bdd4;
    --secondary-400:#8f99b8;--secondary-500:#6e7899;--secondary-600:#565f7a;--secondary-700:#454c63;
    --secondary-800:#373c50;--secondary-900:#2b2f40;--secondary-950:#1a1d2a;

    /* === NEUTRAL SCALE === */
    /* TODO: Adjust based on {{BG_BASE}} - Dark concepts use black base, light concepts use white */
    --neutral-0:#000000;--neutral-50:#050506;--neutral-100:#0a0a0c;--neutral-200:#141418;
    --neutral-300:#1e1e24;--neutral-400:#2a2a32;--neutral-500:#3d3d48;--neutral-600:#5a5a68;
    --neutral-700:#7e7e8c;--neutral-800:#a5a5b0;--neutral-900:#ccccd4;--neutral-950:#e8e8ec;
    --neutral-1000:#ffffff;

    /* === ACCENT/GLOW COLOR SCALE === */
    /* TODO: Replace with {{ACCENT_BASE_HEX}} or {{MATERIAL_B_HEX}} if applicable */
    --glow-50:#f2f0fa;--glow-100:#e4def2;--glow-200:#cbc0e6;--glow-300:#ad9cce;
    --glow-400:#8e7cb4;--glow-500:#705c98;--glow-600:#5a4a80;--glow-700:#483e68;
    --glow-800:#36304f;--glow-900:#241e3a;--glow-950:#140e24;

    /* === STATUS COLORS === */
    /* TODO: Adjust shades based on concept (usually can keep default) */
    --success-400:#4ade80;--success-500:#22c55e;--success-600:#16a34a;--success-900:#0a2615;
    --warning-400:#facc15;--warning-500:#eab308;--warning-600:#ca8a04;--warning-900:#2a2008;
    --error-400:#f87171;--error-500:#ef4444;--error-600:#dc2626;--error-900:#2a0a0a;
    --info-400:#60a5fa;--info-500:#3b82f6;--info-600:#2563eb;--info-900:#0a1a2e;

    /* === TYPOGRAPHY === */
    /* TODO: Replace with {{FONT_DISPLAY}} and {{FONT_MONO}} */
    --font-sans:'DM Sans',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
    --font-mono:'JetBrains Mono','SF Mono','Fira Code',monospace;

    /* === LAYOUT === */
    --sidebar-width:260px;
  }

  /* ── Light Theme ── */
  [data-theme="light"]{
    --neutral-0:#ffffff;--neutral-50:#f9fafb;--neutral-100:#f3f4f6;--neutral-200:#e5e7eb;
    --neutral-300:#d1d5db;--neutral-400:#b0b5c0;--neutral-500:#8b909e;--neutral-600:#6b7180;
    --neutral-700:#4b5063;--neutral-800:#374050;--neutral-900:#1f2937;--neutral-950:#111827;
    --neutral-1000:#000000;
  }

  /* ── i18n ── */
  [data-lang="ja"] .i18n-en{display:none !important;}
  [data-lang="en"] .i18n-ja{display:none !important;}

  /* ── Theme-aware content ── */
  [data-theme="dark"] .theme-light-only{display:none !important;}
  [data-theme="light"] .theme-dark-only{display:none !important;}

  /* ── Switcher ── */
  .switcher-bar{display:flex;gap:8px;margin-top:12px;}
  .switcher{display:inline-flex;background:var(--neutral-200);border-radius:6px;padding:2px;}
  .switcher button{border:none;background:transparent;color:var(--neutral-700);font-family:var(--font-mono);font-size:10px;padding:3px 8px;border-radius:4px;cursor:pointer;transition:all .15s ease;line-height:1.4;}
  .switcher button.active{background:var(--neutral-400);color:var(--neutral-1000);}

  /* ── Utility ── */
  .card-base{background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:12px;padding:20px;transition:border-color .15s ease;}
  .card-base:hover{border-color:var(--neutral-400);}
  .grid-auto{display:grid;gap:12px;}
  .h-section{font-size:14px;font-weight:500;color:var(--neutral-900);margin:32px 0 16px;}
  .h-section:first-child{margin-top:0;}
  .h-section--flush{margin-top:0;}
  .label-mono{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);}
  .label-upper{font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);margin-bottom:12px;}
  *{margin:0;padding:0;box-sizing:border-box;}
  html{scroll-behavior:smooth;scroll-padding-top:32px;}
  body{font-family:var(--font-sans);background:var(--neutral-0);color:var(--neutral-950);line-height:1.6;overflow-x:hidden;}

  /* ── Sidebar ── */
  .sidebar{position:fixed;top:0;left:0;width:var(--sidebar-width);height:100vh;background:var(--neutral-100);border-right:1px solid var(--neutral-300);padding:32px 0;overflow-y:auto;z-index:100;transition:transform .3s cubic-bezier(0.25,0.1,0.25,1);}
  .sidebar-header{padding:0 24px 24px;border-bottom:1px solid var(--neutral-300);margin-bottom:16px;}
  .sidebar-header h1{font-size:15px;font-weight:600;color:var(--neutral-1000);letter-spacing:-0.3px;}
  .sidebar-header p{font-size:11px;color:var(--neutral-700);margin-top:4px;font-weight:400;}
  .nav-group{padding:0 12px;}
  .nav-group a{display:flex;align-items:center;gap:10px;padding:8px 12px;font-size:13px;font-weight:400;color:var(--neutral-700);text-decoration:none;border-radius:8px;transition:all .15s ease;margin-bottom:2px;}
  .nav-group a:hover{color:var(--neutral-950);background:var(--neutral-200);}
  .nav-group a.active{color:var(--neutral-1000);background:var(--neutral-200);font-weight:500;}
  .nav-group a .nav-num{font-family:var(--font-mono);font-size:10px;color:var(--neutral-600);width:20px;text-align:right;flex-shrink:0;}
  .nav-group a.active .nav-num{color:var(--primary-400);}

  /* ── Main ── */
  .main{margin-left:var(--sidebar-width);min-height:100vh;}
  .hero{padding:80px 64px 64px;background:radial-gradient(ellipse 80% 60% at 50% 0%,rgba(80,104,164,0.12) 0%,transparent 70%);}
  .hero h1{font-size:44px;font-weight:300;letter-spacing:-1px;color:var(--neutral-1000);margin-bottom:8px;}
  .hero p{font-size:14px;color:var(--neutral-700);max-width:600px;}
  .content{padding:0 64px 96px;}

  /* ── Section ── */
  .section{padding-top:64px;}
  .section-header{display:flex;align-items:center;gap:16px;margin-bottom:32px;}
  .section-header h2{font-size:13px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--neutral-700);white-space:nowrap;}
  .section-header::after{content:'';flex:1;height:1px;background:var(--neutral-300);}
  .section-desc{font-size:14px;color:var(--neutral-700);margin-bottom:24px;max-width:700px;}

  /* ── Principle Cards ── */
  .principles-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));}
  .principle-num{font-family:var(--font-mono);font-size:11px;color:var(--primary-400);margin-bottom:8px;}
  .principle-title{font-size:16px;font-weight:600;color:var(--neutral-1000);margin-bottom:6px;}
  .principle-desc{font-size:13px;color:var(--neutral-700);line-height:1.5;}

  /* ── Color Swatches ── */
  .palette-group{margin-bottom:32px;}
  .palette-label{font-size:14px;font-weight:500;color:var(--neutral-900);margin-bottom:8px;display:flex;align-items:baseline;gap:8px;}
  .palette-label span{font-size:11px;color:var(--neutral-700);font-weight:400;}
  .swatches{display:flex;gap:2px;border-radius:12px;overflow:hidden;}
  .swatch{flex:1;min-height:80px;padding:8px 10px;display:flex;flex-direction:column;justify-content:flex-end;cursor:pointer;transition:transform .15s ease;position:relative;}
  .swatch:hover{transform:scaleY(1.08);z-index:1;}
  .swatch-label{font-family:var(--font-mono);font-size:10px;font-weight:500;}
  .swatch-hex{font-family:var(--font-mono);font-size:9px;opacity:.6;margin-top:1px;}
  .swatch.dark .swatch-label,.swatch.dark .swatch-hex{color:rgba(255,255,255,0.85);}
  .swatch.light .swatch-label,.swatch.light .swatch-hex{color:rgba(0,0,0,0.8);}

  /* ── Semantic Tokens ── */
  .semantic-grid{grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px;margin-top:24px;}
  .semantic-card{border-radius:10px;padding:14px;display:flex;align-items:center;gap:14px;cursor:pointer;}
  .semantic-dot{width:36px;height:36px;border-radius:8px;flex-shrink:0;}
  .semantic-name{font-size:13px;font-weight:500;color:var(--neutral-900);}
  .semantic-detail{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-top:2px;}

  /* ── Status Colors ── */
  .status-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;}
  .status-card{overflow:hidden;}
  .status-card h3{font-size:11px;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--neutral-700);padding:12px 14px 8px;}
  .status-swatches{display:flex;gap:2px;}
  .status-swatch{flex:1;height:52px;padding:6px 8px;display:flex;flex-direction:column;justify-content:flex-end;cursor:pointer;}

  /* ── Typography ── */
  .type-table{width:100%;border-collapse:collapse;}
  .type-table th{text-align:left;font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);padding:0 16px 12px;border-bottom:1px solid var(--neutral-300);}
  .type-table td{padding:16px;border-bottom:1px solid var(--neutral-200);vertical-align:middle;}
  .type-token{font-family:var(--font-mono);font-size:12px;color:var(--primary-400);white-space:nowrap;}
  .type-meta{font-family:var(--font-mono);font-size:11px;color:var(--neutral-700);}

  /* ── Spacing ── */
  .spacing-list{display:flex;flex-direction:column;gap:8px;}
  .spacing-row{display:flex;align-items:center;gap:16px;}
  .spacing-token{font-family:var(--font-mono);font-size:12px;color:var(--neutral-700);width:80px;text-align:right;flex-shrink:0;}
  .spacing-value{font-family:var(--font-mono);font-size:11px;color:var(--neutral-700);width:50px;flex-shrink:0;}
  .spacing-bar{height:20px;background:var(--primary-500);border-radius:4px;opacity:.6;transition:opacity .15s ease;}
  .spacing-row:hover .spacing-bar{opacity:1;}

  /* ── Grid ── */
  .bp-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));}
  .bp-name{font-size:14px;font-weight:600;color:var(--neutral-1000);margin-bottom:4px;}
  .bp-range{font-family:var(--font-mono);font-size:12px;color:var(--primary-400);margin-bottom:8px;}
  .bp-detail{font-size:12px;color:var(--neutral-700);line-height:1.6;}
  .grid-demo{margin-top:24px;overflow:hidden;}
  .grid-demo-label{font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);margin-bottom:12px;}
  .grid-cols{display:grid;gap:4px;}
  .grid-col{background:var(--primary-950);border:1px solid var(--primary-700);border-radius:4px;height:36px;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:10px;color:var(--primary-300);}

  /* ── Radius ── */
  .radius-grid{display:flex;flex-wrap:wrap;gap:20px;align-items:end;}
  .radius-item{display:flex;flex-direction:column;align-items:center;gap:8px;}
  .radius-box{background:transparent;border:1.5px solid var(--neutral-500);transition:border-color .15s ease;}
  .radius-item:hover .radius-box{border-color:var(--primary-400);}
  .radius-label{font-family:var(--font-mono);font-size:11px;color:var(--neutral-700);}
  .radius-val{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);}

  /* ── Stroke Width ── */
  .stroke-grid{display:flex;flex-direction:column;gap:16px;max-width:600px;}
  .stroke-row{display:flex;align-items:center;gap:20px;}
  .stroke-token{font-family:var(--font-mono);font-size:12px;color:var(--neutral-700);width:120px;text-align:right;flex-shrink:0;}
  .stroke-value{font-family:var(--font-mono);font-size:11px;color:var(--neutral-700);width:40px;flex-shrink:0;}
  .stroke-line{flex:1;border-top-style:solid;border-top-color:var(--primary-400);transition:border-top-color .15s ease;}
  .stroke-row:hover .stroke-line{border-top-color:var(--glow-200);}

  /* ── Effects ── */
  .effects-grid{grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;}
  .effect-card{border-radius:12px;padding:24px;min-height:140px;display:flex;flex-direction:column;justify-content:flex-end;}
  .effect-name{font-size:14px;font-weight:600;color:var(--neutral-1000);margin-bottom:4px;}
  .effect-desc{font-size:12px;color:var(--neutral-700);}
  .effect-code{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-top:8px;padding:8px;background:rgba(0,0,0,.3);border-radius:6px;line-height:1.5;white-space:pre-wrap;position:relative;}
  .copy-btn{position:absolute;top:6px;right:6px;background:var(--neutral-400);color:var(--neutral-900);border:none;border-radius:4px;padding:2px 8px;font-family:var(--font-mono);font-size:9px;cursor:pointer;opacity:0;transition:opacity .15s ease;}
  .effect-code:hover .copy-btn{opacity:1;}

  /* ── Shadows ── */
  .shadow-grid{display:flex;flex-wrap:wrap;gap:24px;margin-top:16px;}
  .shadow-item{width:120px;height:120px;background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;}
  .shadow-label{font-family:var(--font-mono);font-size:11px;color:var(--neutral-800);}

  /* ── Elevation ── */
  .elevation-stack{display:flex;flex-direction:column;gap:0;position:relative;height:340px;max-width:500px;}
  .elevation-layer{position:absolute;left:0;right:0;border-radius:10px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;border:1px solid var(--neutral-300);transition:transform .2s ease;}
  .elevation-layer:hover{transform:translateX(8px);}
  .elevation-name{font-size:13px;font-weight:500;color:var(--neutral-950);}
  .elevation-z{font-family:var(--font-mono);font-size:11px;color:var(--primary-400);}

  /* ── Motion ── */
  .motion-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;}
  .motion-card{text-align:center;}
  .motion-demo{width:48px;height:48px;background:var(--primary-500);border-radius:10px;margin:0 auto 12px;transition-property:transform,box-shadow,border-radius;}
  .motion-name{font-size:13px;font-weight:500;color:var(--neutral-900);margin-bottom:2px;}
  .motion-val{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);}

  .anim-grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-top:24px;}
  .anim-card{text-align:center;cursor:pointer;}
  .anim-demo{width:64px;height:40px;background:var(--primary-500);border-radius:8px;margin:0 auto 12px;opacity:0.6;}
  .anim-name{font-size:13px;font-weight:500;color:var(--neutral-900);}
  .anim-desc{font-size:11px;color:var(--neutral-700);margin-top:4px;}

  /* ── Iconography ── */
  .icon-table{width:100%;border-collapse:collapse;max-width:600px;}
  .icon-table td{padding:12px 16px;border-bottom:1px solid var(--neutral-200);font-size:13px;}
  .icon-table td:first-child{font-weight:500;color:var(--neutral-800);width:140px;}
  .icon-table td:last-child{color:var(--neutral-700);}

  /* ── Platform Tabs ── */
  .tab-bar{display:flex;gap:4px;margin-bottom:24px;border-bottom:1px solid var(--neutral-300);padding-bottom:0;}
  .tab-btn{background:none;border:none;color:var(--neutral-700);font-family:var(--font-sans);font-size:13px;font-weight:500;padding:10px 16px;cursor:pointer;border-bottom:2px solid transparent;margin-bottom:-1px;transition:all .15s ease;}
  .tab-btn:hover{color:var(--neutral-900);}
  .tab-btn.active{color:var(--neutral-1000);border-bottom-color:var(--primary-500);}
  .tab-content{display:none;}
  .tab-content.active{display:block;}
  .platform-list{list-style:none;display:flex;flex-direction:column;gap:8px;}
  .platform-list li{font-size:13px;color:var(--neutral-800);padding:10px 14px;background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:8px;line-height:1.5;}
  .platform-list li::before{content:'';display:inline-block;width:6px;height:6px;background:var(--primary-500);border-radius:50%;margin-right:10px;vertical-align:middle;}

  /* ── Quick Reference ── */
  .ref-visual{background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:16px;padding:32px;max-width:720px;}
  .ref-layer{border-radius:12px;padding:20px;position:relative;}
  .ref-label{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);position:absolute;top:8px;right:12px;}
  .ref-inner-card{border-radius:10px;padding:16px;margin-top:12px;}
  .ref-text-line{display:flex;align-items:baseline;gap:12px;margin-bottom:6px;}
  .ref-text-role{font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);width:90px;text-align:right;flex-shrink:0;}
  .ref-btn{display:inline-block;padding:8px 20px;border-radius:8px;font-size:13px;font-weight:600;margin-top:12px;cursor:default;transition:box-shadow .2s ease;}
  .ref-btn:hover{box-shadow:0 0 20px rgba(80,104,164,0.15);}

  /* ── Toast ── */
  .toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(20px);background:var(--neutral-400);color:var(--neutral-950);padding:8px 20px;border-radius:8px;font-size:12px;font-family:var(--font-mono);opacity:0;pointer-events:none;transition:all .25s ease;z-index:9999;}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

  /* ── Mobile ── */
  .menu-btn{display:none;position:fixed;top:16px;left:16px;z-index:200;width:40px;height:40px;background:var(--neutral-200);border:1px solid var(--neutral-300);border-radius:10px;cursor:pointer;align-items:center;justify-content:center;}
  .menu-btn span{display:block;width:18px;height:2px;background:var(--neutral-800);border-radius:1px;transition:all .2s ease;}
  .menu-btn span+span{margin-top:4px;}
  .overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:90;}

  @media(max-width:1023px){
    .sidebar{transform:translateX(-100%);}
    .sidebar.open{transform:translateX(0);}
    .main{margin-left:0;}
    .hero{padding:64px 24px 48px;}
    .content{padding:0 24px 64px;}
    .menu-btn{display:flex;}
    .overlay.open{display:block;}
    .status-grid{grid-template-columns:repeat(2,1fr);}
  }
  @media(max-width:639px){
    .hero h1{font-size:28px;}
    .effects-grid{grid-template-columns:1fr;}
    .status-grid{grid-template-columns:1fr;}
    .swatches{flex-wrap:wrap;}
    .swatch{min-width:calc(25% - 2px);min-height:64px;}
  }

  /* ── Hover Buttons ── */
  .hover-demo-grid{grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:24px;}
  .hover-demo-card{padding:32px;display:flex;flex-direction:column;align-items:center;gap:20px;}
  .hover-demo-name{font-size:14px;font-weight:600;color:var(--neutral-1000);}
  .hover-demo-desc{font-size:12px;color:var(--neutral-700);text-align:center;max-width:280px;}

  /* ── Liquid Hover Button ── */
  .btn-liquid{
    position:relative;padding:12px 24px;min-width:120px;
    border:1px solid rgba(255,255,255,0.1);border-radius:12px;
    color:#e8e8ec;cursor:pointer;font-family:var(--font-sans);font-size:14px;font-weight:500;
    background:rgba(10,10,12,0.5);
    backdrop-filter:blur(20px) saturate(1.4);-webkit-backdrop-filter:blur(20px) saturate(1.4);
    overflow:hidden;transition:all 0.4s cubic-bezier(0.25,0.1,0.25,1);
  }
  .btn-liquid::before{
    content:"";position:absolute;top:-100%;left:0;right:0;height:100%;
    background:linear-gradient(180deg,rgba(255,255,255,0.12) 0%,transparent 100%);
    transition:top 0.6s cubic-bezier(0,0,0.2,1);pointer-events:none;
  }
  .btn-liquid:hover{
    border-color:rgba(255,255,255,0.18);background:rgba(80,104,164,0.15);
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.15),0 8px 24px rgba(0,0,0,0.3);
  }
  .btn-liquid:hover::before{top:0;}

  /* ── Material Card Styles ── */
  .card-liquid-demo{
    position:relative;border-radius:16px;padding:24px;
    background:linear-gradient(135deg,rgba(80,104,164,0.08) 0%,rgba(142,124,180,0.05) 50%,rgba(80,104,164,0.08) 100%);
    backdrop-filter:blur(40px) saturate(1.8) brightness(1.1);
    -webkit-backdrop-filter:blur(40px) saturate(1.8) brightness(1.1);
    border:1px solid rgba(255,255,255,0.12);
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.15),inset 0 -1px 0 rgba(0,0,0,0.1),0 8px 32px rgba(0,0,0,0.3);
    transition:box-shadow .3s ease;
  }
  .card-liquid-demo::before{
    content:"";position:absolute;inset:0;border-radius:inherit;
    background:linear-gradient(180deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.03) 30%,transparent 50%);
    pointer-events:none;
  }
  .card-liquid-demo:hover{box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),inset 0 -1px 0 rgba(0,0,0,0.1),0 12px 40px rgba(0,0,0,0.4);}

  /* ── Material Philosophy Visual ── */
  .material-overview{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:32px;}
  .material-overview-card{border-radius:12px;padding:24px;min-height:160px;display:flex;flex-direction:column;justify-content:flex-end;}
  @media(max-width:767px){.material-overview{grid-template-columns:1fr;}}

  /* ── Card Glass Demo ── */
  .card-glass-demo{
    background:rgba(10,10,12,0.6);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
    border:none;
  }

  /* ── Component Demo ── */
  .demo-panel{background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:12px;padding:32px;margin-bottom:16px;}
  .demo-label{font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);margin-bottom:16px;}
  .demo-row{display:flex;gap:16px;flex-wrap:wrap;align-items:center;margin-bottom:24px;}
  .demo-row:last-child{margin-bottom:0;}
  /* ── Basic Buttons ── */
  .btn{display:inline-flex;align-items:center;justify-content:center;border:0;border-radius:8px;font-family:var(--font-sans);font-weight:500;cursor:pointer;transition:opacity .15s ease,box-shadow .15s ease;line-height:1;}
  .btn:active{transform:scale(0.97);}
  .btn--sm{height:32px;padding:0 12px;font-size:12px;}
  .btn--md{height:40px;padding:0 20px;font-size:14px;}
  .btn--lg{height:48px;padding:0 28px;font-size:15px;}
  .btn--primary{background:var(--primary-500);color:#fff;}
  .btn--primary:hover{opacity:0.85;}
  .btn--secondary{background:transparent;color:var(--neutral-900);border:1px solid var(--neutral-400);}
  .btn--secondary:hover{border-color:var(--neutral-600);color:var(--neutral-1000);}
  .btn--ghost{background:transparent;color:var(--neutral-700);}
  .btn--ghost:hover{color:var(--neutral-1000);background:var(--neutral-200);}
  .btn--danger{background:var(--error-500);color:#fff;}
  .btn--danger:hover{opacity:0.85;}
  .btn--focused{box-shadow:0 0 0 2px var(--primary-500);}
  .btn--disabled{opacity:0.35;cursor:not-allowed;pointer-events:none;}

  /* ── Liquid Glass Buttons ── */
  .btn-glass{display:inline-flex;align-items:center;justify-content:center;border-radius:10px;font-family:var(--font-sans);font-weight:500;cursor:pointer;backdrop-filter:blur(20px) saturate(1.4);-webkit-backdrop-filter:blur(20px) saturate(1.4);transition:all .2s ease;line-height:1;}
  .btn-glass:active{transform:scale(0.97);}
  .btn-glass--sm{height:32px;padding:0 14px;font-size:12px;}
  .btn-glass--md{height:40px;padding:0 22px;font-size:14px;}
  .btn-glass--lg{height:48px;padding:0 30px;font-size:15px;}
  .btn-glass--primary{background:rgba(80,104,164,0.25);color:var(--neutral-1000);border:1px solid rgba(255,255,255,0.12);}
  .btn-glass--primary:hover{background:rgba(80,104,164,0.35);border-color:rgba(255,255,255,0.2);}
  .btn-glass--secondary{background:rgba(255,255,255,0.06);color:var(--neutral-900);border:1px solid rgba(255,255,255,0.1);}
  .btn-glass--secondary:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.18);}
  .btn-glass--ghost{background:transparent;color:var(--neutral-800);border:1px solid transparent;}
  .btn-glass--ghost:hover{background:rgba(255,255,255,0.06);}
  .btn-glass--danger{background:rgba(239,68,68,0.2);color:var(--error-400);border:1px solid rgba(239,68,68,0.2);}
  .btn-glass--danger:hover{background:rgba(239,68,68,0.3);border-color:rgba(239,68,68,0.35);}
  .btn-glass--focused{box-shadow:0 0 0 2px rgba(80,104,164,0.5);}
  .btn-glass--disabled{opacity:0.35;cursor:not-allowed;pointer-events:none;}
  .badge-demo{display:inline-flex;align-items:center;height:22px;padding:0 8px;border-radius:4px;font-size:11px;font-weight:500;}
  .badge-demo--default{background:var(--neutral-300);color:var(--neutral-700);}
  .badge-demo--success{background:#0a2615;color:#4ade80;}
  .badge-demo--warning{background:#2a2008;color:#facc15;}
  .badge-demo--error{background:#2a0a0a;color:#f87171;}
  .badge-demo--info{background:#0a1a2e;color:#60a5fa;}
  .input-demo{width:100%;height:40px;padding:0 12px;background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:8px;color:var(--neutral-950);font-family:var(--font-sans);font-size:14px;outline:none;transition:border-color .15s ease,box-shadow .15s ease;}
  .input-demo:focus{border-color:var(--primary-500);box-shadow:0 0 0 2px rgba(68,80,118,0.6),0 0 12px rgba(80,104,164,0.3);}
  .input-demo--error{border-color:#ef4444;box-shadow:0 0 0 2px rgba(239,68,68,0.3),0 0 12px rgba(239,68,68,0.15);}
  .input-demo--disabled{background:var(--neutral-200);opacity:0.5;cursor:not-allowed;}
  .modal-demo-bg{position:relative;background:rgba(0,0,0,0.6);border-radius:12px;padding:48px;display:flex;justify-content:center;margin-bottom:16px;}
  .modal-demo-panel{background:var(--neutral-200);border:1px solid var(--neutral-300);border-radius:16px;padding:24px;width:100%;max-width:400px;box-shadow:0 8px 32px rgba(0,0,0,0.5);}
  .modal-demo-title{font-size:18px;font-weight:600;color:var(--neutral-1000);margin-bottom:8px;}
  .modal-demo-body{font-size:14px;color:var(--neutral-700);margin-bottom:20px;line-height:1.5;}
  .modal-btn-cancel{height:36px;padding:0 14px;border:1px solid var(--neutral-400);border-radius:8px;background:transparent;color:var(--neutral-950);font-family:var(--font-sans);font-size:13px;font-weight:600;cursor:pointer;}
  .modal-btn-confirm{height:36px;padding:0 14px;border:0;border-radius:8px;background:var(--primary-500);color:#fff;font-family:var(--font-sans);font-size:13px;font-weight:600;cursor:pointer;}
  .toast-demo{padding:8px 16px;border-radius:8px;font-family:var(--font-mono);font-size:13px;}
  .toast-demo--default{background:var(--neutral-400);color:var(--neutral-950);}
  .toast-demo--success{background:#0a2615;color:#4ade80;}
  .toast-demo--error{background:#2a0a0a;color:#f87171;}
  .table-demo{width:100%;border-collapse:collapse;max-width:600px;}
  .table-demo th{text-align:left;font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);padding:0 16px 12px;border-bottom:1px solid var(--neutral-300);}
  .table-demo td{padding:12px 16px;border-bottom:1px solid var(--neutral-200);}
  .table-demo td:first-child{font-family:var(--font-mono);font-size:13px;color:var(--primary-400);}
  .table-demo td:nth-child(2){font-family:var(--font-mono);font-size:13px;color:var(--neutral-700);}
  .table-demo td:last-child{font-size:14px;color:var(--neutral-800);}
  .table-demo tr{transition:background .1s ease;}
  .table-demo tbody tr:hover{background:var(--neutral-100);}
  .card-demo-standard{padding:24px;}

  /* ── Light mode component overrides ── */
  [data-theme="light"] .badge-demo--success{background:#dcfce7;color:#166534;}
  [data-theme="light"] .badge-demo--warning{background:#fef9c3;color:#854d0e;}
  [data-theme="light"] .badge-demo--error{background:#fee2e2;color:#991b1b;}
  [data-theme="light"] .badge-demo--info{background:#dbeafe;color:#1e40af;}
  [data-theme="light"] .toast-demo--success{background:#dcfce7;color:#166534;}
  [data-theme="light"] .toast-demo--error{background:#fee2e2;color:#991b1b;}
  [data-theme="light"] .btn-glass--primary{background:rgba(80,104,164,0.12);border-color:rgba(80,104,164,0.2);}
  [data-theme="light"] .btn-glass--primary:hover{background:rgba(80,104,164,0.2);border-color:rgba(80,104,164,0.3);}
  [data-theme="light"] .btn-glass--secondary{background:rgba(0,0,0,0.04);border-color:rgba(0,0,0,0.1);}
  [data-theme="light"] .btn-glass--secondary:hover{background:rgba(0,0,0,0.08);border-color:rgba(0,0,0,0.15);}
  [data-theme="light"] .btn-glass--ghost:hover{background:rgba(0,0,0,0.04);}
  [data-theme="light"] .btn-glass--danger{background:rgba(239,68,68,0.08);color:var(--error-600);border-color:rgba(239,68,68,0.15);}
  [data-theme="light"] .btn-glass--danger:hover{background:rgba(239,68,68,0.15);border-color:rgba(239,68,68,0.25);}
  [data-theme="light"] .modal-demo-bg{background:rgba(0,0,0,0.3);}
  [data-theme="light"] .card-glass-demo{background:rgba(255,255,255,0.6);backdrop-filter:blur(24px) brightness(1.05);-webkit-backdrop-filter:blur(24px) brightness(1.05);}
  [data-theme="light"] .card-liquid-demo{background:linear-gradient(135deg,rgba(80,104,164,0.06) 0%,rgba(142,124,180,0.04) 50%,rgba(80,104,164,0.06) 100%);border-color:rgba(0,0,0,0.08);box-shadow:inset 0 1px 0 rgba(255,255,255,0.8),0 4px 16px rgba(0,0,0,0.06);backdrop-filter:blur(40px) saturate(1.3);-webkit-backdrop-filter:blur(40px) saturate(1.3);}
  [data-theme="light"] .card-liquid-demo::before{background:linear-gradient(180deg,rgba(255,255,255,0.5) 0%,rgba(255,255,255,0.1) 30%,transparent 50%);}
  [data-theme="light"] .btn-liquid{color:var(--neutral-900);background:rgba(255,255,255,0.5);border-color:rgba(0,0,0,0.1);}
  [data-theme="light"] .btn-liquid:hover{background:rgba(80,104,164,0.1);border-color:rgba(0,0,0,0.15);box-shadow:inset 0 1px 0 rgba(255,255,255,0.5),0 4px 12px rgba(0,0,0,0.08);}
  [data-theme="light"] .btn-liquid::before{background:linear-gradient(180deg,rgba(0,0,0,0.03) 0%,transparent 100%);}
  .glass-bg{background:linear-gradient(135deg,var(--neutral-100) 0%,var(--primary-950) 100%);border-color:var(--neutral-300);}
  [data-theme="light"] .glass-bg{background:linear-gradient(135deg,var(--neutral-100) 0%,var(--primary-100) 100%);}

  @media(prefers-reduced-motion:reduce){
    .btn,.btn-glass,.btn-liquid{transition:linear;}
  }

  /* ── Animations ── */
  @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
  @keyframes glowPulse{0%,100%{box-shadow:0 0 20px rgba(80,104,164,0.1)}50%{box-shadow:0 0 40px rgba(80,104,164,0.25)}}
  @keyframes shimmer{from{background-position:-200% 0}to{background-position:200% 0}}
  @keyframes liquidRipple{0%{transform:scale(0.95);opacity:0.6}50%{transform:scale(1.02);opacity:1}100%{transform:scale(1);opacity:1}}
  @keyframes specularSlide{0%{background-position:-100% 0}100%{background-position:200% 0}}
</style>
</head>
<body>

<!-- Sidebar -->
<button class="menu-btn" onclick="toggleSidebar()" aria-label="Menu">
  <span></span><span></span><span></span>
</button>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<nav class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h1>The Domain AI</h1>
    <p>Design System v2.0 — Two Materials</p>
    <div class="switcher-bar">
      <div class="switcher" id="themeSwitcher">
        <button class="active" onclick="setTheme('dark')">Dark</button>
        <button onclick="setTheme('light')">Light</button>
      </div>
      <div class="switcher" id="langSwitcher">
        <button onclick="setLang('en')">EN</button>
        <button class="active" onclick="setLang('ja')">JA</button>
      </div>
    </div>
  </div>
  <div class="nav-group">
    <a href="#principles"><span class="nav-num">01</span>Design Principles</a>
    <a href="#colors"><span class="nav-num">02</span>Color System</a>
    <a href="#typography"><span class="nav-num">03</span>Typography</a>
    <a href="#spacing"><span class="nav-num">04</span>Spacing</a>
    <a href="#grid"><span class="nav-num">05</span>Grid &amp; Layout</a>
    <a href="#radius"><span class="nav-num">06</span>Shape &amp; Radius</a>
    <a href="#effects"><span class="nav-num">07</span>Material System</a>
    <a href="#elevation"><span class="nav-num">08</span>Elevation</a>
    <a href="#motion"><span class="nav-num">09</span>Motion</a>
    <a href="#iconography"><span class="nav-num">10</span>Iconography</a>
    <a href="#platforms"><span class="nav-num">11</span>Platform Guidelines</a>
    <a href="#reference"><span class="nav-num">12</span>Quick Reference</a>
    <a href="#components"><span class="nav-num">13</span>Components</a>
  </div>
</nav>

<main class="main">

  <!-- Hero -->
  <div class="hero">
    <h1>The Domain AI Company<br>Design System</h1>
    <p><span class="i18n-ja">Glassmorphism・Liquid Glass の 2 つのマテリアルを基盤に、漆黒の中に浮かぶ光と透明感で情報階層を表現するダークファーストデザインシステムです。</span><span class="i18n-en">A dark-first design system built on two materials — Glassmorphism and Liquid Glass — expressing information hierarchy through light and transparency emerging from deep black.</span></p>
  </div>

  <div class="content">

    <!-- 01 Design Principles -->
    <section class="section" id="principles">
      <div class="section-header"><h2>01 &mdash; Design Principles</h2></div>
      <div class="grid-auto principles-grid" id="principlesGrid"></div>
    </section>

    <!-- 02 Color System -->
    <section class="section" id="colors">
      <div class="section-header"><h2>02 &mdash; Color System</h2></div>

      <div id="paletteContainer"></div>

      <h3 class="h-section">Semantic Tokens</h3>
      <p class="section-desc" style="margin-bottom:16px;"><span class="i18n-ja">用途に基づく意味的トークンです。実装時はこちらを優先して使用します。</span><span class="i18n-en">Semantic tokens based on intended use. Prefer these over raw palette values in implementation.</span></p>
      <div class="theme-dark-only">
        <div class="grid-auto semantic-grid" id="semanticGridDarkMain"></div>
      </div>
      <div class="theme-light-only">
        <div class="grid-auto semantic-grid" id="semanticGridLightMain"></div>
      </div>

      <h3 class="h-section">Status Colors</h3>
      <div class="status-grid" id="statusGrid"></div>
    </section>

    <!-- 03 Typography -->
    <section class="section" id="typography">
      <div class="section-header"><h2>03 &mdash; Typography</h2></div>
      <div class="section-desc"><span class="i18n-ja">DM Sans（本文・UI全般）と JetBrains Mono（コード・数値）の2書体構成です。Major Third (1.25) スケールを採用しています。</span><span class="i18n-en">Two typefaces: DM Sans (body &amp; UI) and JetBrains Mono (code &amp; numbers). Uses a Major Third (1.25) scale.</span></div>

      <div style="display:flex;gap:24px;margin-bottom:32px;flex-wrap:wrap;">
        <div class="card-base" style="flex:1;min-width:200px;background:transparent;">
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--primary-400);margin-bottom:8px;">Sans</div>
          <div style="font-size:24px;font-weight:300;color:var(--neutral-1000);">DM Sans</div>
          <div style="font-size:13px;color:var(--neutral-700);margin-top:4px;"><span class="i18n-ja">本文・UI全般・見出し</span><span class="i18n-en">Body, UI, headings</span></div>
        </div>
        <div class="card-base" style="flex:1;min-width:200px;background:transparent;">
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--primary-400);margin-bottom:8px;">Mono</div>
          <div style="font-family:var(--font-mono);font-size:24px;font-weight:400;color:var(--neutral-1000);">JetBrains Mono</div>
          <div style="font-size:13px;color:var(--neutral-700);margin-top:4px;"><span class="i18n-ja">コード・数値・トークン</span><span class="i18n-en">Code, numbers, tokens</span></div>
        </div>
      </div>

      <h3 class="h-section h-section--flush">Font Weights</h3>
      <div id="fontWeights" style="display:flex;flex-direction:column;gap:8px;margin-bottom:40px;"></div>

      <h3 class="h-section h-section--flush">Type Scale</h3>
      <div style="overflow-x:auto;">
        <table class="type-table" id="typeTable"></table>
      </div>
    </section>

    <!-- 04 Spacing -->
    <section class="section" id="spacing">
      <div class="section-header"><h2>04 &mdash; Spacing</h2></div>
      <div class="section-desc"><span class="i18n-ja">8px グリッドベースのスペーシングスケールです。</span><span class="i18n-en">An 8px grid-based spacing scale.</span></div>
      <div class="spacing-list" id="spacingList"></div>
    </section>

    <!-- 05 Grid & Layout -->
    <section class="section" id="grid">
      <div class="section-header"><h2>05 &mdash; Grid &amp; Layout</h2></div>
      <div class="section-desc"><span class="i18n-ja">レスポンシブブレークポイントとカラムグリッドの定義です。</span><span class="i18n-en">Responsive breakpoint and column grid definitions.</span></div>
      <div class="grid-auto bp-grid" id="bpGrid"></div>
      <div class="card-base grid-demo" style="margin-top:24px;">
        <div class="grid-demo-label">12-Column Grid Preview</div>
        <div class="grid-cols" id="gridPreview" style="grid-template-columns:repeat(12,1fr);"></div>
      </div>
    </section>

    <!-- 06 Shape & Radius -->
    <section class="section" id="radius">
      <div class="section-header"><h2>06 &mdash; Shape &amp; Radius</h2></div>
      <div class="section-desc"><span class="i18n-ja">12px (radius-lg) をカードの標準とし、ネスト要素は親より小さい radius を使用します。</span><span class="i18n-en">12px (radius-lg) is the standard for cards. Nested elements use a smaller radius than their parent.</span></div>
      <div class="radius-grid" id="radiusGrid"></div>

      <h3 class="h-section">Border & Stroke Width</h3>
      <p class="section-desc"><span class="i18n-ja">1px (stroke-sm) をデフォルトのボーダー幅とし、アイコンは 1.5px (stroke-md) で統一します。</span><span class="i18n-en">1px (stroke-sm) is the default border width. Icons use 1.5px (stroke-md) consistently.</span></p>
      <div class="stroke-grid" id="strokeGrid"></div>
    </section>

    <!-- 07 Material System -->
    <section class="section" id="effects">
      <div class="section-header"><h2>07 &mdash; Material System</h2></div>
      <div class="section-desc"><span class="i18n-ja">2 つのマテリアルが「霜 → 水面」という光の進化で、情報の階層と重要度を伝えます。</span><span class="i18n-en">Two materials convey hierarchy and importance through a progression of light: frost to water surface.</span></div>

      <h3 class="h-section h-section--flush">Material Overview</h3>
      <div class="material-overview">
        <div class="material-overview-card card-glass-demo">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--primary-400);margin-bottom:6px;">Frost</div>
          <div style="font-size:16px;font-weight:600;color:var(--neutral-1000);margin-bottom:4px;">Glassmorphism</div>
          <div style="font-size:12px;color:var(--neutral-700);line-height:1.5;"><span class="i18n-ja">磨りガラス — 均一なブラー、柔らかい透過、静的な佇まい。カード・パネル・サイドバーに使用。</span><span class="i18n-en">Frosted glass — uniform blur, soft translucency, static presence. Used for cards, panels, and sidebars.</span></div>
        </div>
        <div class="material-overview-card card-liquid-demo">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--primary-400);margin-bottom:6px;">Flow</div>
          <div style="font-size:16px;font-weight:600;color:var(--neutral-1000);margin-bottom:4px;">Liquid Glass</div>
          <div style="font-size:12px;color:var(--neutral-700);line-height:1.5;"><span class="i18n-ja">水面 — コンテンツ追従ティンティング、スペキュラハイライト。ナビゲーション・ヒーローに使用。</span><span class="i18n-en">Water surface — content-adaptive tinting, specular highlights. Used for navigation and hero sections.</span></div>
        </div>
      </div>

      <div class="theme-dark-only">
        <h3 class="h-section h-section--flush">Glassmorphism</h3>
        <div class="grid-auto effects-grid" id="glassGrid" style="margin-bottom:24px;"></div>
      </div>
      <div class="theme-light-only">
        <h3 class="h-section h-section--flush">Glassmorphism</h3>
        <div class="grid-auto effects-grid" id="glassLightGrid" style="margin-bottom:24px;"></div>
      </div>

      <div class="theme-dark-only">
        <h3 class="h-section h-section--flush">Liquid Glass</h3>
        <div class="grid-auto effects-grid" id="liquidGlassGrid" style="margin-bottom:24px;"></div>
      </div>
      <div class="theme-light-only">
        <h3 class="h-section h-section--flush">Liquid Glass</h3>
        <div class="grid-auto effects-grid" id="liquidGlassLightGrid" style="margin-bottom:24px;"></div>
      </div>

      <div class="theme-dark-only">
        <h3 class="h-section h-section--flush">Gradients</h3>
        <div class="grid-auto effects-grid" id="gradientGrid" style="margin-bottom:24px;"></div>
      </div>
      <div class="theme-light-only">
        <h3 class="h-section h-section--flush">Gradients</h3>
        <div class="grid-auto effects-grid" id="gradientLightGrid" style="margin-bottom:24px;"></div>
      </div>

      <div class="theme-dark-only">
        <h3 class="h-section h-section--flush">Glow Effects — Basic</h3>
        <div class="grid-auto effects-grid" id="glowGrid" style="margin-bottom:24px;"></div>

        <h3 class="h-section h-section--flush">Glow Effects — Gradients</h3>
        <div class="grid-auto effects-grid" id="glowGradientGrid" style="margin-bottom:32px;"></div>
      </div>

      <h3 class="h-section h-section--flush">Shadows</h3>
      <div class="shadow-grid" id="shadowGrid"></div>
    </section>

    <!-- 08 Elevation -->
    <section class="section" id="elevation">
      <div class="section-header"><h2>08 &mdash; Elevation &amp; Layers</h2></div>
      <div class="section-desc"><span class="i18n-ja">z-index の階層定義です。</span><span class="i18n-en">z-index layer definitions.</span></div>
      <div class="elevation-stack" id="elevationStack"></div>
    </section>

    <!-- 09 Motion -->
    <section class="section" id="motion">
      <div class="section-header"><h2>09 &mdash; Motion &amp; Animation</h2></div>
      <div class="section-desc"><span class="i18n-ja">ホバーでアニメーションのプレビューを確認できます。</span><span class="i18n-en">Hover to preview animations.</span></div>
      <h3 class="h-section h-section--flush">Duration & Easing</h3>
      <div class="grid-auto motion-grid" id="motionGrid"></div>
      <h3 class="h-section">Hover Patterns</h3>
      <p class="section-desc"><span class="i18n-ja">ボタンをホバーして動作を確認できます。</span><span class="i18n-en">Hover buttons to preview behavior.</span></p>
      <div class="grid-auto hover-demo-grid">
        <div class="hover-demo-card">
          <div class="hover-demo-name">Basic — Opacity Fade</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時に opacity が下がるシンプルなパターン。Basic ボタンの Primary / Danger 向け。</span><span class="i18n-en">Simple opacity fade on hover. For Basic Primary / Danger buttons.</span></div>
          <button class="btn btn--md btn--primary">Hover me</button>
        </div>
        <div class="hover-demo-card">
          <div class="hover-demo-name">Basic — Border Shift</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時にボーダーカラーが濃くなるパターン。Basic ボタンの Secondary 向け。</span><span class="i18n-en">Border color darkens on hover. For Basic Secondary buttons.</span></div>
          <button class="btn btn--md btn--secondary">Hover me</button>
        </div>
        <div class="hover-demo-card">
          <div class="hover-demo-name">Basic — Background Fill</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時に背景が現れるパターン。Basic ボタンの Ghost 向け。</span><span class="i18n-en">Background appears on hover. For Basic Ghost buttons.</span></div>
          <button class="btn btn--md btn--ghost">Hover me</button>
        </div>
        <div class="hover-demo-card glass-bg">
          <div class="hover-demo-name">Liquid Glass — Tint Deepen</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時に背景ティントが深まり、ボーダーが明るくなるパターン。Liquid Glass ボタン向け。</span><span class="i18n-en">Background tint deepens and border brightens on hover. For Liquid Glass buttons.</span></div>
          <button class="btn-glass btn-glass--md btn-glass--primary">Hover me</button>
        </div>
      </div>

      <h3 class="h-section">Animation Patterns</h3>
      <div class="grid-auto anim-grid" id="animGrid"></div>
    </section>

    <!-- 10 Iconography -->
    <section class="section" id="iconography">
      <div class="section-header"><h2>10 &mdash; Iconography</h2></div>
      <table class="icon-table" id="iconTable"></table>
    </section>

    <!-- 11 Platform Guidelines -->
    <section class="section" id="platforms">
      <div class="section-header"><h2>11 &mdash; Platform Guidelines</h2></div>
      <div class="tab-bar" id="tabBar"></div>
      <div id="tabContents"></div>
    </section>

    <!-- 12 Quick Reference -->
    <section class="section" id="reference">
      <div class="section-header"><h2>12 &mdash; Quick Reference</h2></div>
      <div class="section-desc"><span class="i18n-ja">UI の基本的な構成パターンです。</span><span class="i18n-en">Basic UI composition patterns.</span></div>

      <!-- Dark Quick Reference -->
      <div class="ref-visual theme-dark-only">
        <div class="ref-layer" style="background:#000000;border:1px solid #1e1e24;">
          <span class="ref-label" style="color:#ccccd4;">Page Background &middot; neutral-0</span>
          <div style="font-size:11px;color:#3d3d48;margin-bottom:12px;">#000000</div>
          <div class="ref-layer" style="background:#0a0a0c;border:1px solid #1e1e24;">
            <span class="ref-label" style="color:#ccccd4;">Surface &middot; neutral-100</span>
            <div style="font-size:11px;color:#3d3d48;margin-bottom:16px;">#0a0a0c &middot; border: neutral-300 #1e1e24</div>
            <div class="ref-text-line">
              <span class="ref-text-role">Heading</span>
              <span style="font-size:22px;font-weight:300;color:#ffffff;">Display Heading</span>
            </div>
            <div class="ref-text-line">
              <span class="ref-text-role">Body</span>
              <span style="font-size:14px;color:#e8e8ec;">Body text in neutral-950</span>
            </div>
            <div class="ref-text-line">
              <span class="ref-text-role">Sub text</span>
              <span style="font-size:12px;color:#7e7e8c;">Secondary text in neutral-700</span>
            </div>
            <div class="ref-inner-card" style="background:#141418;border:1px solid #1e1e24;margin-top:16px;">
              <span class="ref-label" style="color:#ccccd4;">Raised &middot; neutral-200</span>
              <div style="font-size:11px;color:#3d3d48;margin-bottom:12px;">#141418</div>
              <span class="ref-btn" style="background:#5068a4;color:#e8e8ec;">Primary Button</span>
              <span class="ref-btn" style="background:transparent;color:#e8e8ec;border:1px solid #2a2a32;margin-left:8px;">Secondary</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Light Quick Reference -->
      <div class="ref-visual theme-light-only">
        <div class="ref-layer" style="background:#ffffff;border:1px solid #d7dded;">
          <span class="ref-label" style="color:#1f2937;">Page Background &middot; bg-page</span>
          <div style="font-size:11px;color:#4b5063;margin-bottom:12px;">#ffffff</div>
          <div class="ref-layer" style="background:#f3f4f6;border:1px solid #d1d5db;">
            <span class="ref-label" style="color:#1f2937;">Surface &middot; bg-surface</span>
            <div style="font-size:11px;color:#4b5063;margin-bottom:16px;">#f3f4f6 &middot; border: #d1d5db</div>
            <div class="ref-text-line">
              <span class="ref-text-role" style="color:#4b5063;">Heading</span>
              <span style="font-size:22px;font-weight:300;color:#000000;">Display Heading</span>
            </div>
            <div class="ref-text-line">
              <span class="ref-text-role" style="color:#4b5063;">Body</span>
              <span style="font-size:14px;color:#111827;">Body text in text-primary</span>
            </div>
            <div class="ref-text-line">
              <span class="ref-text-role" style="color:#4b5063;">Sub text</span>
              <span style="font-size:12px;color:#4b5063;">Secondary text in text-secondary</span>
            </div>
            <div class="ref-inner-card" style="background:#ffffff;border:1px solid #d1d5db;margin-top:16px;">
              <span class="ref-label" style="color:#1f2937;">Raised &middot; bg-surface-raised</span>
              <div style="font-size:11px;color:#4b5063;margin-bottom:12px;">#ffffff</div>
              <span class="ref-btn" style="background:#5068a4;color:#ffffff;">Primary Button</span>
              <span class="ref-btn" style="background:transparent;color:#111827;border:1px solid #b0b5c0;margin-left:8px;">Secondary</span>
            </div>
          </div>
        </div>
      </div>

      <h3 class="h-section">Status Usage</h3>
      <p class="section-desc" style="margin-bottom:16px;"><span class="i18n-ja">各ステータスカラーの使い分けです。</span><span class="i18n-en">Status color usage reference.</span></p>
      <div class="theme-dark-only" id="statusRefDark"></div>
      <div class="theme-light-only" id="statusRefLight"></div>
    </section>

    <!-- 13 Components -->
    <section class="section" id="components">
      <div class="section-header"><h2>13 &mdash; Components</h2></div>
      <div class="section-desc"><span class="i18n-ja">全コンポーネントはデザイントークンから値を導出します。</span><span class="i18n-en">All components derive values from design tokens.</span></div>

      <!-- Buttons — Basic -->
      <h3 class="h-section h-section--flush">Button — Basic</h3>
      <div class="demo-panel">
        <div class="demo-label">Variants</div>
        <div class="demo-row">
          <button class="btn btn--md btn--primary">Primary</button>
          <button class="btn btn--md btn--secondary">Secondary</button>
          <button class="btn btn--md btn--ghost">Ghost</button>
          <button class="btn btn--md btn--danger">Danger</button>
        </div>
        <div class="demo-label">Sizes</div>
        <div class="demo-row">
          <button class="btn btn--sm btn--primary">Small</button>
          <button class="btn btn--md btn--primary">Medium</button>
          <button class="btn btn--lg btn--primary">Large</button>
        </div>
        <div class="demo-label">States</div>
        <div class="demo-row">
          <button class="btn btn--md btn--primary">Default</button>
          <button class="btn btn--md btn--primary btn--focused">Focused</button>
          <button class="btn btn--md btn--primary btn--disabled" disabled>Disabled</button>
        </div>
      </div>

      <!-- Buttons — Liquid Glass -->
      <h3 class="h-section">Button — Liquid Glass</h3>
      <div class="demo-panel glass-bg">
        <div class="demo-label">Variants</div>
        <div class="demo-row">
          <button class="btn-glass btn-glass--md btn-glass--primary">Primary</button>
          <button class="btn-glass btn-glass--md btn-glass--secondary">Secondary</button>
          <button class="btn-glass btn-glass--md btn-glass--ghost">Ghost</button>
          <button class="btn-glass btn-glass--md btn-glass--danger">Danger</button>
        </div>
        <div class="demo-label">Sizes</div>
        <div class="demo-row">
          <button class="btn-glass btn-glass--sm btn-glass--primary">Small</button>
          <button class="btn-glass btn-glass--md btn-glass--primary">Medium</button>
          <button class="btn-glass btn-glass--lg btn-glass--primary">Large</button>
        </div>
        <div class="demo-label">States</div>
        <div class="demo-row">
          <button class="btn-glass btn-glass--md btn-glass--primary">Default</button>
          <button class="btn-glass btn-glass--md btn-glass--primary btn-glass--focused">Focused</button>
          <button class="btn-glass btn-glass--md btn-glass--primary btn-glass--disabled" disabled>Disabled</button>
        </div>
      </div>

      <!-- Card -->
      <h3 class="h-section">Card</h3>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;margin-bottom:16px;">
        <div class="card-base card-demo-standard">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-bottom:6px;">Standard</div>
          <div style="font-size:14px;font-weight:600;color:var(--neutral-1000);margin-bottom:8px;">Standard Card</div>
          <div style="font-size:13px;color:var(--neutral-700);line-height:1.5;">bg-surface / border-default / radius-lg (12px)</div>
        </div>
        <div class="card-glass-demo" style="border-radius:12px;padding:24px;background-image:radial-gradient(at 30% 30%,rgba(80,104,164,0.1) 0%,transparent 60%);">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-bottom:6px;">Glassmorphism</div>
          <div style="font-size:14px;font-weight:600;color:var(--neutral-1000);margin-bottom:8px;">Glass Card</div>
          <div style="font-size:13px;color:var(--neutral-700);line-height:1.5;">glass / backdrop-filter: blur(24px)</div>
        </div>
        <div class="card-liquid-demo">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-bottom:6px;">Liquid Glass</div>
          <div style="font-size:14px;font-weight:600;color:var(--neutral-1000);margin-bottom:8px;">Liquid Card</div>
          <div style="font-size:13px;color:var(--neutral-700);line-height:1.5;">liquid-glass / specular highlight / dynamic tint</div>
        </div>
      </div>

      <!-- Input -->
      <h3 class="h-section">Input / Text Field</h3>
      <div style="display:flex;flex-direction:column;gap:12px;max-width:400px;margin-bottom:16px;">
        <div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-bottom:4px;">Default</div>
          <input type="text" placeholder="Placeholder text..." class="input-demo">
        </div>
        <div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-bottom:4px;">Error</div>
          <input type="text" value="Invalid value" class="input-demo input-demo--error">
        </div>
        <div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);margin-bottom:4px;">Disabled</div>
          <input type="text" placeholder="Disabled" disabled class="input-demo input-demo--disabled">
        </div>
      </div>

      <!-- Badge -->
      <h3 class="h-section">Badge / Tag</h3>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px;">
        <span class="badge-demo badge-demo--default">Default</span>
        <span class="badge-demo badge-demo--success">Success</span>
        <span class="badge-demo badge-demo--warning">Warning</span>
        <span class="badge-demo badge-demo--error">Error</span>
        <span class="badge-demo badge-demo--info">Info</span>
      </div>

      <!-- Modal -->
      <h3 class="h-section">Modal / Dialog</h3>
      <div class="modal-demo-bg">
        <div class="modal-demo-panel">
          <div class="modal-demo-title">Modal Title</div>
          <div class="modal-demo-body">bg-surface-raised / radius-xl (16px) / shadow-lg / padding: space-6</div>
          <div style="display:flex;gap:10px;justify-content:flex-end;">
            <button class="modal-btn-cancel">Cancel</button>
            <button class="modal-btn-confirm">Confirm</button>
          </div>
        </div>
      </div>

      <!-- Toast -->
      <h3 class="h-section">Toast / Notification</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px;">
        <div class="toast-demo toast-demo--default">Default toast message</div>
        <div class="toast-demo toast-demo--success">Success notification</div>
        <div class="toast-demo toast-demo--error">Error notification</div>
      </div>

      <!-- Table -->
      <h3 class="h-section">Table</h3>
      <div style="overflow-x:auto;">
        <table class="table-demo">
          <thead>
            <tr>
              <th>Token</th>
              <th>Value</th>
              <th>Usage</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>radius-lg</td>
              <td>12px</td>
              <td>Card, Panel</td>
            </tr>
            <tr>
              <td>radius-md</td>
              <td>8px</td>
              <td>Button, Input</td>
            </tr>
            <tr>
              <td>radius-sm</td>
              <td>4px</td>
              <td>Tag, Badge</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </div>
</main>

<div class="toast" id="toast">Copied</div>

<script>
/* ── i18n Helper ── */
function t(ja, en) {
  return `<span class="i18n-ja">${ja}</span><span class="i18n-en">${en || ja}</span>`;
}

/* ── Theme & Lang Toggle ── */
function setTheme(theme) {
  document.documentElement.dataset.theme = theme;
  document.querySelectorAll('#themeSwitcher button').forEach(b => b.classList.remove('active'));
  document.querySelector(`#themeSwitcher button[onclick="setTheme('${theme}')"]`).classList.add('active');
  if (typeof renderElevation === 'function') renderElevation();
  if (typeof renderShadows === 'function') renderShadows();
}
function setLang(lang) {
  document.documentElement.dataset.lang = lang;
  document.documentElement.lang = lang === 'en' ? 'en' : 'ja';
  document.querySelectorAll('#langSwitcher button').forEach(b => b.classList.remove('active'));
  document.querySelector(`#langSwitcher button[onclick="setLang('${lang}')"]`).classList.add('active');
}

/* ── Data ── */
const principles = [
  { num:'01', title:'Dark-First', desc:'漆黒を基調に、光の濃淡とマテリアルの透過度で情報の重みを伝える', desc_en:'Convey information weight through light gradation and material translucency against deep black' },
  { num:'02', title:'Minimal & Precise', desc:'余白と抑制された要素数で、コンテンツそのものに没入させる', desc_en:'Immerse users in content through whitespace and restrained element count' },
  { num:'03', title:'Two Materials', desc:'Glassmorphism（静）・Liquid Glass（動）の 2 層で奥行きと質感を構成する', desc_en:'Compose depth and texture with two material layers: Glassmorphism (static) and Liquid Glass (dynamic)' },
  { num:'04', title:'Systematic Consistency', desc:'すべての値はトークンから導出し、マジックナンバーを排除する', desc_en:'Derive all values from tokens and eliminate magic numbers' },
  { num:'05', title:'Platform Adaptive', desc:'共通トークンを持ちつつ、各プラットフォームの慣習に従う', desc_en:'Share common tokens while following each platform\'s conventions' },
];

const palettes = [
  { name:'Primary', sub:'Steel Blue', prefix:'primary', colors:[
    {l:'50',h:'#eef1f8',t:'light'},{l:'100',h:'#dae1f1',t:'light'},{l:'200',h:'#b8c5e3',t:'light'},
    {l:'300',h:'#8fa5d4',t:'light'},{l:'400',h:'#6b84c0',t:'dark'},{l:'500',h:'#5068a4',t:'dark'},
    {l:'600',h:'#445076',t:'dark'},{l:'700',h:'#363f60',t:'dark'},{l:'800',h:'#292f47',t:'dark'},
    {l:'900',h:'#1c2035',t:'dark'},{l:'950',h:'#0f1220',t:'dark'},
  ]},
  { name:'Secondary', sub:'Silver', prefix:'secondary', colors:[
    {l:'50',h:'#f9fafc',t:'light'},{l:'100',h:'#eef0f5',t:'light'},{l:'200',h:'#d7dded',t:'light'},
    {l:'300',h:'#b5bdd4',t:'light'},{l:'400',h:'#8f99b8',t:'light'},{l:'500',h:'#6e7899',t:'dark'},
    {l:'600',h:'#565f7a',t:'dark'},{l:'700',h:'#454c63',t:'dark'},{l:'800',h:'#373c50',t:'dark'},
    {l:'900',h:'#2b2f40',t:'dark'},{l:'950',h:'#1a1d2a',t:'dark'},
  ]},
  { name:'Accent', sub:'Violet Smoke', prefix:'glow', colors:[
    {l:'50',h:'#f2f0fa',t:'light'},{l:'100',h:'#e4def2',t:'light'},{l:'200',h:'#cbc0e6',t:'light'},
    {l:'300',h:'#ad9cce',t:'light'},{l:'400',h:'#8e7cb4',t:'dark'},{l:'500',h:'#705c98',t:'dark'},
    {l:'600',h:'#5a4a80',t:'dark'},{l:'700',h:'#483e68',t:'dark'},{l:'800',h:'#36304f',t:'dark'},
    {l:'900',h:'#241e3a',t:'dark'},{l:'950',h:'#140e24',t:'dark'},
  ]},
  { name:'Neutral', sub:'Black Scale', prefix:'neutral', colors:[
    {l:'0',h:'#000000',t:'dark'},{l:'50',h:'#050506',t:'dark'},{l:'100',h:'#0a0a0c',t:'dark'},
    {l:'200',h:'#141418',t:'dark'},{l:'300',h:'#1e1e24',t:'dark'},{l:'400',h:'#2a2a32',t:'dark'},
    {l:'500',h:'#3d3d48',t:'dark'},{l:'600',h:'#5a5a68',t:'dark'},{l:'700',h:'#7e7e8c',t:'dark'},
    {l:'800',h:'#a5a5b0',t:'light'},{l:'900',h:'#ccccd4',t:'light'},{l:'950',h:'#e8e8ec',t:'light'},
    {l:'1000',h:'#ffffff',t:'light'},
  ]},
];

const semanticTokens = [
  {name:'bg-page',         dark:{maps:'neutral-0',hex:'#000000'},   light:{maps:'neutral-0',hex:'#ffffff'},   desc:'ページ全体の背景',desc_en:'Page background'},
  {name:'bg-surface',      dark:{maps:'neutral-100',hex:'#0a0a0c'}, light:{maps:'neutral-100',hex:'#f3f4f6'}, desc:'カード・パネル背景',desc_en:'Card / panel surface'},
  {name:'bg-surface-raised',dark:{maps:'neutral-200',hex:'#141418'},light:{maps:'neutral-0',hex:'#ffffff'},   desc:'浮上サーフェス',desc_en:'Raised surface'},
  {name:'border-default',  dark:{maps:'neutral-300',hex:'#1e1e24'}, light:{maps:'neutral-300',hex:'#d1d5db'}, desc:'通常のボーダー',desc_en:'Default border'},
  {name:'border-hover',    dark:{maps:'neutral-400',hex:'#2a2a32'}, light:{maps:'neutral-400',hex:'#b0b5c0'}, desc:'ホバー時ボーダー',desc_en:'Hover border'},
  {name:'text-primary',    dark:{maps:'neutral-950',hex:'#e8e8ec'}, light:{maps:'neutral-950',hex:'#111827'}, desc:'本文テキスト',desc_en:'Primary text'},
  {name:'text-secondary',  dark:{maps:'neutral-700',hex:'#7e7e8c'}, light:{maps:'neutral-700',hex:'#4b5063'}, desc:'補助テキスト',desc_en:'Secondary text'},
  {name:'text-muted',      dark:{maps:'neutral-500',hex:'#3d3d48'}, light:{maps:'neutral-500',hex:'#8b909e'}, desc:'非活性テキスト',desc_en:'Muted text'},
  {name:'interactive',     dark:{maps:'primary-500',hex:'#5068a4'}, light:{maps:'primary-500',hex:'#5068a4'}, desc:'ボタン・リンク',desc_en:'Button / link'},
  {name:'interactive-hover',dark:{maps:'primary-400',hex:'#6b84c0'},light:{maps:'primary-600',hex:'#445076'}, desc:'ホバー状態',desc_en:'Hover state'},
  {name:'focus-ring',      dark:{maps:'primary-600',hex:'#445076'}, light:{maps:'primary-400',hex:'#6b84c0'}, desc:'フォーカスインジケーター',desc_en:'Focus indicator'},
  {name:'glow-effect',     dark:{maps:'glow-400',hex:'#8e7cb4'},    light:{maps:'glow-300',hex:'#ad9cce'},    desc:'グロウエフェクト',desc_en:'Glow effect'},
];

const statusColors = [
  {name:'Success',colors:[{l:'400',h:'#4ade80',t:'light'},{l:'500',h:'#22c55e',t:'light'},{l:'600',h:'#16a34a',t:'dark'},{l:'900',h:'#0a2615',t:'dark'}]},
  {name:'Warning',colors:[{l:'400',h:'#facc15',t:'light'},{l:'500',h:'#eab308',t:'light'},{l:'600',h:'#ca8a04',t:'dark'},{l:'900',h:'#2a2008',t:'dark'}]},
  {name:'Error',colors:[{l:'400',h:'#f87171',t:'light'},{l:'500',h:'#ef4444',t:'dark'},{l:'600',h:'#dc2626',t:'dark'},{l:'900',h:'#2a0a0a',t:'dark'}]},
  {name:'Info',colors:[{l:'400',h:'#60a5fa',t:'light'},{l:'500',h:'#3b82f6',t:'dark'},{l:'600',h:'#2563eb',t:'dark'},{l:'900',h:'#0a1a2e',t:'dark'}]},
];

const typeScale = [
  {token:'display-xl', size:'56px',rem:'3.5rem',weight:300,lh:'1.1',ls:'-1.5px',usage:'Hero heading',font:'sans'},
  {token:'display-lg', size:'44px',rem:'2.75rem',weight:300,lh:'1.15',ls:'-1px',usage:'Section heading',font:'sans'},
  {token:'display-md', size:'36px',rem:'2.25rem',weight:300,lh:'1.2',ls:'-0.5px',usage:'Page title',font:'sans'},
  {token:'heading-lg', size:'28px',rem:'1.75rem',weight:500,lh:'1.3',ls:'-0.3px',usage:'Card title',font:'sans'},
  {token:'heading-md', size:'22px',rem:'1.375rem',weight:500,lh:'1.35',ls:'-0.2px',usage:'Subsection',font:'sans'},
  {token:'heading-sm', size:'18px',rem:'1.125rem',weight:600,lh:'1.4',ls:'0',usage:'Small heading',font:'sans'},
  {token:'body-lg',    size:'16px',rem:'1rem',weight:400,lh:'1.6',ls:'0',usage:'Body large',font:'sans'},
  {token:'body-md',    size:'14px',rem:'0.875rem',weight:400,lh:'1.6',ls:'0',usage:'Body (default)',font:'sans'},
  {token:'body-sm',    size:'12px',rem:'0.75rem',weight:400,lh:'1.5',ls:'0.1px',usage:'Caption',font:'sans'},
  {token:'label-lg',   size:'14px',rem:'0.875rem',weight:600,lh:'1.2',ls:'0.5px',usage:'Button label',font:'sans'},
  {token:'label-md',   size:'13px',rem:'0.8125rem',weight:600,lh:'1.2',ls:'2px',usage:'Section label',font:'sans',transform:'uppercase'},
  {token:'label-sm',   size:'11px',rem:'0.6875rem',weight:500,lh:'1.2',ls:'1.5px',usage:'Tag / Badge',font:'sans'},
  {token:'mono-md',    size:'13px',rem:'0.8125rem',weight:400,lh:'1.7',ls:'0',usage:'Code block',font:'mono'},
  {token:'mono-sm',    size:'11px',rem:'0.6875rem',weight:400,lh:'1.5',ls:'0',usage:'Inline code',font:'mono'},
];

const spacingScale = [
  {token:'space-0',val:'0px',px:0},
  {token:'space-1',val:'2px',px:2},
  {token:'space-2',val:'4px',px:4},
  {token:'space-3',val:'8px',px:8},
  {token:'space-4',val:'12px',px:12},
  {token:'space-5',val:'16px',px:16},
  {token:'space-6',val:'24px',px:24},
  {token:'space-7',val:'32px',px:32},
  {token:'space-8',val:'48px',px:48},
  {token:'space-9',val:'64px',px:64},
  {token:'space-10',val:'96px',px:96},
  {token:'space-11',val:'128px',px:128},
];

const breakpoints = [
  {name:'Mobile',range:'0 – 639px',cols:4,gutter:'16px',margin:'16px',maxW:'100%'},
  {name:'Tablet',range:'640 – 1023px',cols:8,gutter:'24px',margin:'32px',maxW:'100%'},
  {name:'Desktop',range:'1024 – 1439px',cols:12,gutter:'24px',margin:'auto',maxW:'1200px'},
  {name:'Wide',range:'1440px+',cols:12,gutter:'32px',margin:'auto',maxW:'1440px'},
];

const radii = [
  {token:'radius-none',val:'0px',size:48},
  {token:'radius-sm',val:'4px',size:48},
  {token:'radius-md',val:'8px',size:56},
  {token:'radius-lg',val:'12px',size:64},
  {token:'radius-xl',val:'16px',size:72},
  {token:'radius-2xl',val:'24px',size:80},
  {token:'radius-full',val:'9999px',size:80},
];

const glassEffects = [
  {name:'Standard Glass',desc:'基本的なグラスモーフィズム',desc_en:'Basic glassmorphism',
   style:'background:rgba(10,10,12,0.6);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);',
   code:'background: rgba(10, 10, 12, 0.6);\nbackdrop-filter: blur(24px);'},
  {name:'Frosted Glass',desc:'より強い曇りガラス',desc_en:'Stronger frosted glass',
   style:'background:rgba(20,20,24,0.8);backdrop-filter:blur(40px) saturate(1.2);-webkit-backdrop-filter:blur(40px) saturate(1.2);',
   code:'background: rgba(20, 20, 24, 0.8);\nbackdrop-filter: blur(40px) saturate(1.2);'},
  {name:'Tinted Glass',desc:'ブランドカラーを帯びたガラス',desc_en:'Brand-tinted glass',
   style:'background:rgba(15,18,32,0.7);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);',
   code:'background: rgba(15, 18, 32, 0.7);\nbackdrop-filter: blur(24px);'},
  {name:'Violet Glass',desc:'アクセントカラーのガラス',desc_en:'Accent-colored glass',
   style:'background:rgba(36,30,58,0.6);backdrop-filter:blur(24px) saturate(1.3);-webkit-backdrop-filter:blur(24px) saturate(1.3);',
   code:'background: rgba(36, 30, 58, 0.6);\nbackdrop-filter: blur(24px) saturate(1.3);'},
];

const gradients = [
  {name:'Hero Gradient',desc:'3色パレットの放射グラデーション',desc_en:'Radial gradient with 3-color palette',
   style:'background:radial-gradient(ellipse 80% 60% at 30% 20%,rgba(80,104,164,0.25) 0%,transparent 50%),radial-gradient(ellipse 60% 50% at 70% 60%,rgba(142,124,180,0.2) 0%,transparent 50%),radial-gradient(ellipse 50% 40% at 50% 80%,rgba(74,222,128,0.1) 0%,transparent 50%),#0a0a0c;',
   code:'radial-gradient(ellipse 80% 60% at 30% 20%,\n  rgba(80,104,164,0.25) 0%, transparent 50%),\nradial-gradient(ellipse 60% 50% at 70% 60%,\n  rgba(142,124,180,0.2) 0%, transparent 50%),\nradial-gradient(ellipse 50% 40% at 50% 80%,\n  rgba(74,222,128,0.1) 0%, transparent 50%)'},
  {name:'Tricolor Linear',desc:'3色の直線グラデーション',desc_en:'Three-color linear gradient',
   style:'background:linear-gradient(135deg,#5068a4 0%,#8e7cb4 50%,#4ade80 100%);',
   code:'linear-gradient(135deg,\n  #5068a4 0%,\n  #8e7cb4 50%,\n  #4ade80 100%)'},
  {name:'Mesh Gradient',desc:'3色メッシュの空間表現',desc_en:'Three-color mesh spatial effect',
   style:'background:radial-gradient(at 20% 30%,rgba(80,104,164,0.25) 0%,transparent 50%),radial-gradient(at 80% 20%,rgba(142,124,180,0.2) 0%,transparent 50%),radial-gradient(at 60% 80%,rgba(74,222,128,0.12) 0%,transparent 50%),#000;',
   code:'radial-gradient(at 20% 30%, rgba(80,104,164,0.25), transparent 50%),\nradial-gradient(at 80% 20%, rgba(142,124,180,0.2), transparent 50%),\nradial-gradient(at 60% 80%, rgba(74,222,128,0.12), transparent 50%)'},
  {name:'Surface Gradient',desc:'カード・パネル背景',desc_en:'Card / panel surface',
   style:'background:linear-gradient(180deg,rgba(80,104,164,0.12) 0%,rgba(142,124,180,0.06) 40%,rgba(74,222,128,0.04) 100%),#0a0a0c;border:1px solid #1e1e24;',
   code:'linear-gradient(180deg,\n  rgba(80,104,164,0.12) 0%,\n  rgba(142,124,180,0.06) 40%,\n  rgba(74,222,128,0.04) 100%)'},
  {name:'Aurora Gradient',desc:'オーロラ風の多色帯',desc_en:'Aurora-like multicolor band',
   style:'background:linear-gradient(160deg,rgba(80,104,164,0.3) 0%,rgba(142,124,180,0.15) 30%,rgba(74,222,128,0.1) 60%,rgba(80,104,164,0.05) 100%),#0a0a0c;',
   code:'linear-gradient(160deg,\n  rgba(80,104,164,0.3) 0%,\n  rgba(142,124,180,0.15) 30%,\n  rgba(74,222,128,0.1) 60%,\n  rgba(80,104,164,0.05) 100%)'},
];

const glassLightEffects = [
  {name:'Light Glass',desc:'ライトモード・LP ヒーロー',desc_en:'Light mode LP hero',
   style:'background:rgba(218,225,241,0.5);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);',
   code:'background: rgba(218, 225, 241, 0.5);\nbackdrop-filter: blur(24px);'},
  {name:'Light Frosted Glass',desc:'ライトモード・カード',desc_en:'Light mode card',
   style:'background:rgba(238,240,245,0.6);backdrop-filter:blur(40px) saturate(1.3);-webkit-backdrop-filter:blur(40px) saturate(1.3);',
   code:'background: rgba(238, 240, 245, 0.6);\nbackdrop-filter: blur(40px) saturate(1.3);'},
  {name:'Light Violet Glass',desc:'ライトモード・アクセント',desc_en:'Light mode accent',
   style:'background:rgba(228,222,242,0.5);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);',
   code:'background: rgba(228, 222, 242, 0.5);\nbackdrop-filter: blur(24px);'},
];

const lightGradients = [
  {name:'Light Hero Gradient',desc:'3色パレットの放射グラデーション',desc_en:'Radial gradient with 3-color palette',
   style:'background:radial-gradient(ellipse 80% 60% at 30% 20%,rgba(80,104,164,0.15) 0%,transparent 50%),radial-gradient(ellipse 60% 50% at 70% 60%,rgba(142,124,180,0.12) 0%,transparent 50%),radial-gradient(ellipse 50% 40% at 50% 80%,rgba(74,222,128,0.08) 0%,transparent 50%),#fff;',
   code:'radial-gradient(ellipse 80% 60% at 30% 20%,\n  rgba(80,104,164,0.15) 0%, transparent 50%),\nradial-gradient(ellipse 60% 50% at 70% 60%,\n  rgba(142,124,180,0.12) 0%, transparent 50%),\nradial-gradient(ellipse 50% 40% at 50% 80%,\n  rgba(74,222,128,0.08) 0%, transparent 50%)'},
  {name:'Light Tricolor Linear',desc:'3色の直線グラデーション',desc_en:'Three-color linear gradient',
   style:'background:linear-gradient(135deg,#dae1f1 0%,#e4def2 50%,#bbf7d0 100%);',
   code:'linear-gradient(135deg,\n  #dae1f1 0%,\n  #e4def2 50%,\n  #bbf7d0 100%)'},
  {name:'Light Mesh Gradient',desc:'3色メッシュの空間表現',desc_en:'Three-color mesh spatial effect',
   style:'background:radial-gradient(at 20% 30%,rgba(218,225,241,0.5) 0%,transparent 50%),radial-gradient(at 80% 20%,rgba(228,222,242,0.4) 0%,transparent 50%),radial-gradient(at 60% 80%,rgba(187,247,208,0.25) 0%,transparent 50%),#fff;',
   code:'radial-gradient(at 20% 30%, rgba(218,225,241,0.5), transparent 50%),\nradial-gradient(at 80% 20%, rgba(228,222,242,0.4), transparent 50%),\nradial-gradient(at 60% 80%, rgba(187,247,208,0.25), transparent 50%)'},
  {name:'Light Surface Gradient',desc:'ライトモード・カード背景',desc_en:'Light mode card surface',
   style:'background:linear-gradient(180deg,rgba(218,225,241,0.3) 0%,rgba(228,222,242,0.15) 40%,rgba(187,247,208,0.1) 100%),#fff;border:1px solid rgba(218,225,241,0.4);',
   code:'linear-gradient(180deg,\n  rgba(218,225,241,0.3) 0%,\n  rgba(228,222,242,0.15) 40%,\n  rgba(187,247,208,0.1) 100%)'},
  {name:'Light Aurora Gradient',desc:'オーロラ風の多色帯',desc_en:'Aurora-like multicolor band',
   style:'background:linear-gradient(160deg,rgba(218,225,241,0.5) 0%,rgba(228,222,242,0.3) 30%,rgba(187,247,208,0.2) 60%,rgba(218,225,241,0.1) 100%),#fff;',
   code:'linear-gradient(160deg,\n  rgba(218,225,241,0.5) 0%,\n  rgba(228,222,242,0.3) 30%,\n  rgba(187,247,208,0.2) 60%,\n  rgba(218,225,241,0.1) 100%)'},
];

const glowEffects = [
  {name:'Subtle Glow',desc:'ホバー・フォーカス',desc_en:'Hover / focus',shadow:'0 0 20px rgba(80,104,164,0.15)'},
  {name:'Medium Glow',desc:'CTA・アクティブ要素',desc_en:'CTA / active elements',shadow:'0 0 40px rgba(80,104,164,0.25),0 0 80px rgba(142,124,180,0.1)'},
  {name:'Strong Glow',desc:'ヒーロー・アクセント',desc_en:'Hero / accent',shadow:'0 0 60px rgba(80,104,164,0.3),0 0 120px rgba(203,192,230,0.1),0 0 200px rgba(142,124,180,0.05)'},
  {name:'Liquid Glow',desc:'Liquid Glass 拡散',desc_en:'Liquid Glass diffusion',shadow:'0 0 30px rgba(80,104,164,0.12),0 8px 40px rgba(0,0,0,0.2)'},
  {name:'Ring Glow',desc:'フォーカスインジケーター',desc_en:'Focus indicator',shadow:'0 0 0 2px rgba(68,80,118,0.6),0 0 12px rgba(80,104,164,0.3)'},
];

const glowGradientEffects = [
  {name:'Radial Glow',desc:'要素中心からのオーラ状の輝き',desc_en:'Aura-like glow from element center',
   bg:'radial-gradient(ellipse 60% 60% at 50% 50%,rgba(80,104,164,0.15) 0%,transparent 70%)',
   code:'radial-gradient(\n  ellipse 60% 60% at 50% 50%,\n  rgba(80,104,164,0.15) 0%,\n  transparent 70%)'},
  {name:'Edge Glow',desc:'上縁からの方向性グロウ',desc_en:'Directional glow from top edge',
   bg:'linear-gradient(180deg,rgba(80,104,164,0.2) 0%,rgba(142,124,180,0.05) 30%,transparent 60%)',
   code:'linear-gradient(\n  180deg,\n  rgba(80,104,164,0.2) 0%,\n  rgba(142,124,180,0.05) 30%,\n  transparent 60%)'},
  {name:'Ambient Glow',desc:'複数ラディアルを重ねた環境光',desc_en:'Ambient light from layered radials',
   bg:'radial-gradient(at 20% 30%,rgba(80,104,164,0.12) 0%,transparent 50%),radial-gradient(at 80% 70%,rgba(142,124,180,0.08) 0%,transparent 50%)',
   code:'radial-gradient(at 20% 30%, rgba(80,104,164,0.12), transparent 50%),\nradial-gradient(at 80% 70%, rgba(142,124,180,0.08), transparent 50%)'},
  {name:'Violet Glow',desc:'アクセントカラーの拡散グロウ',desc_en:'Diffused accent color glow',
   bg:'radial-gradient(ellipse 50% 50% at 50% 50%,rgba(142,124,180,0.15) 0%,rgba(203,192,230,0.05) 40%,transparent 70%)',
   code:'radial-gradient(\n  ellipse 50% 50% at 50% 50%,\n  rgba(142,124,180,0.15) 0%,\n  rgba(203,192,230,0.05) 40%,\n  transparent 70%)'},
];

const shadows = [
  {name:'shadow-sm',value:'0 1px 2px rgba(0,0,0,0.5)',lightValue:'0 1px 2px rgba(0,0,0,0.08)'},
  {name:'shadow-md',value:'0 4px 12px rgba(0,0,0,0.4)',lightValue:'0 4px 12px rgba(0,0,0,0.1)'},
  {name:'shadow-lg',value:'0 8px 32px rgba(0,0,0,0.5)',lightValue:'0 8px 32px rgba(0,0,0,0.12)'},
  {name:'shadow-xl',value:'0 16px 48px rgba(0,0,0,0.6)',lightValue:'0 16px 48px rgba(0,0,0,0.15)'},
];

const elevationLayers = [
  {name:'Tooltip',z:500,bg:'#2a2a32',lightBg:'#ffffff'},
  {name:'Toast',z:400,bg:'#252e48',lightBg:'#f9fafb'},
  {name:'Modal',z:300,bg:'#1e1e24',lightBg:'#f3f4f6'},
  {name:'Overlay',z:200,bg:'#141418',lightBg:'#e5e7eb'},
  {name:'Dropdown',z:100,bg:'#0a0a0c',lightBg:'#d1d5db'},
  {name:'Raised',z:10,bg:'#050506',lightBg:'#b0b5c0'},
  {name:'Base',z:0,bg:'#000000',lightBg:'#8b909e'},
];

const motionTokens = [
  {name:'Instant',duration:'100ms',easing:'ease',desc:'ホバー・フォーカス',desc_en:'Hover / focus'},
  {name:'Fast',duration:'150ms',easing:'ease',desc:'ボタン・切り替え',desc_en:'Button / toggle'},
  {name:'Normal',duration:'250ms',easing:'ease-out',desc:'パネル展開',desc_en:'Panel expand'},
  {name:'Slow',duration:'400ms',easing:'ease-out',desc:'モーダル表示',desc_en:'Modal display'},
  {name:'Slower',duration:'600ms',easing:'ease-out',desc:'ページ遷移',desc_en:'Page transition'},
];

const animPatterns = [
  {name:'Fade In',desc:'出現アニメーション',desc_en:'Entrance animation',anim:'fadeIn 0.4s ease-out forwards'},
  {name:'Glow Pulse',desc:'ローディング・注目',desc_en:'Loading / attention',anim:'glowPulse 2s ease-in-out infinite'},
  {name:'Shimmer',desc:'スケルトンローディング',desc_en:'Skeleton loading',anim:'shimmer 1.5s linear infinite',
   extraStyle:'background:linear-gradient(90deg,#141418 25%,#1e1e24 50%,#141418 75%);background-size:200% 100%;'},
  {name:'Liquid Ripple',desc:'Liquid Glass の波紋',desc_en:'Liquid Glass ripple',anim:'liquidRipple 0.6s ease-out forwards'},
  {name:'Specular Slide',desc:'スペキュラ光の移動',desc_en:'Specular light slide',anim:'specularSlide 2s linear infinite',
   extraStyle:'background:linear-gradient(90deg,transparent 30%,rgba(255,255,255,0.08) 50%,transparent 70%);background-size:200% 100%;'},
];

const iconProps = [
  ['Style','Outline (stroke width: 1.5px)、角丸'],
  ['Optical Size','20x20px (UI) / 24x24px (Nav) / 32x32px (Decorative)'],
  ['Default Color','text-secondary (neutral-700 / #7e7e8c)'],
  ['Active Color','text-primary (neutral-950 / #e8e8ec)'],
  ['Recommended Set','Lucide / Phosphor (Outline)'],
];

const platformData = {
  'Web Page':{
    ja:[
      'Hero には gradient-hero + gradient-mesh を背景に、liquid-glass パネルを配置',
      'セクション間は space-9 (64px) 以上の余白',
      'CTA ボタンは btn-liquid パターンで視線を集中させる',
      '料金表の推奨プランには liquid-glass-deep を適用し、他プランは glass で差別化',
      'タイポグラフィは display-xl ~ display-md をヒーローに使用',
      'セクション区切りには --line-liquid を使用',
    ],
    en:[
      'Place liquid-glass panels over gradient-hero + gradient-mesh backgrounds for hero sections',
      'Use space-9 (64px) or more between sections',
      'Use btn-liquid pattern for CTA buttons to draw attention',
      'Apply liquid-glass-deep for recommended pricing plans; use glass for others to differentiate',
      'Use display-xl through display-md for hero typography',
      'Use --line-liquid for section dividers',
    ],
  },
  'Web App':{
    ja:[
      'サーフェス階層を厳密に守る: bg-page → bg-surface → bg-surface-raised',
      'サイドバーには glass-frosted、ヘッダーには liquid-glass-deep を適用',
      'Liquid Glass はヘッダー・ナビゲーション・CTA に活用',
      'インタラクティブ要素には必ず focus-ring (glow-ring) を適用',
      '本文は body-md (14px)、密度の高い UI では body-sm (12px)',
    ],
    en:[
      'Strictly follow surface hierarchy: bg-page → bg-surface → bg-surface-raised',
      'Apply glass-frosted for sidebars and liquid-glass-deep for headers',
      'Use Liquid Glass for headers, navigation, and CTA elements',
      'Always apply focus-ring (glow-ring) to interactive elements',
      'Use body-md (14px) for body text; body-sm (12px) for dense UI',
    ],
  },
  'iOS App':{
    ja:[
      'iOS HIG / Liquid Glass ガイドラインを優先し、トークンで色・タイポを上書き',
      'liquid-glass は iOS ネイティブの .glass modifier と対応させて実装',
      'タッチターゲット: 最小 44x44pt',
      'Spacing: space-4 (12px) を最小パディング',
      'SF Pro を基本フォントとし、カラートークンのみ本システムから適用',
      'Dynamic Type をサポートし、Type Scale は参考値として扱う',
    ],
    en:[
      'Prioritize iOS HIG / Liquid Glass guidelines; override color and typography with tokens',
      'Implement liquid-glass using iOS native .glass modifier',
      'Touch targets: minimum 44x44pt',
      'Spacing: space-4 (12px) as minimum padding',
      'Use SF Pro as the base font; apply only color tokens from this system',
      'Support Dynamic Type; treat Type Scale as reference values',
    ],
  },
  'Presentation':{
    ja:[
      'アスペクト比: 16:9 (1920x1080)',
      '背景: neutral-0 + gradient-mesh',
      'タイトル: display-xl (56px)、DM Sans Light 300',
      '本文: body-lg (16px) 以上 (視認性確保)',
      'コードブロック: mono-md、glass 背景 + radius-lg',
      'キーワード・数値強調には glow-medium + テキストグラデーションを使用',
      'セクション区切りに --line-liquid を使用',
    ],
    en:[
      'Aspect ratio: 16:9 (1920x1080)',
      'Background: neutral-0 + gradient-mesh',
      'Title: display-xl (56px), DM Sans Light 300',
      'Body: body-lg (16px) or larger for readability',
      'Code blocks: mono-md, glass background + radius-lg',
      'Use glow-medium + text gradient for keyword and number emphasis',
      'Use --line-liquid for section dividers',
    ],
  },
};

/* ── Render Functions ── */

function copyHex(hex) {
  navigator.clipboard.writeText(hex);
  const t = document.getElementById('toast');
  t.textContent = 'Copied ' + hex;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 1200);
}

function copyText(text) {
  navigator.clipboard.writeText(text);
  const t = document.getElementById('toast');
  t.textContent = 'Copied!';
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 1200);
}

// 01 Principles
document.getElementById('principlesGrid').innerHTML = principles.map(p =>
  `<div class="card-base principle-card"><div class="principle-num">${p.num}</div><div class="principle-title">${p.title}</div><div class="principle-desc">${t(p.desc, p.desc_en)}</div></div>`
).join('');

// 02 Colors
document.getElementById('paletteContainer').innerHTML = palettes.map(p =>
  `<div class="palette-group"><div class="palette-label">${p.name} <span>${p.sub}</span></div><div class="swatches">${
    p.colors.map(c => `<div class="swatch ${c.t}" style="background:${c.h}" onclick="copyHex('${c.h}')"><span class="swatch-label">${c.l}</span><span class="swatch-hex">${c.h}</span></div>`).join('')
  }</div></div>`
).join('');

// Semantic tokens — render helper
function renderSemanticCard(s, mode, opts = {}) {
  const { cardStyle = '', dotExtra = '', nameStyle = '', detailStyle = '', showDesc = true } = opts;
  const m = s[mode];
  const detail = showDesc ? `${m.maps} &middot; ${m.hex} &middot; ${t(s.desc, s.desc_en)}` : `${m.maps} &middot; ${m.hex}`;
  return `<div class="card-base semantic-card"${cardStyle ? ` style="${cardStyle}"` : ''} onclick="copyHex('${m.hex}')"><div class="semantic-dot" style="background:${m.hex}${dotExtra}"></div><div><div class="semantic-name"${nameStyle ? ` style="${nameStyle}"` : ''}>${s.name}</div><div class="semantic-detail"${detailStyle ? ` style="${detailStyle}"` : ''}>${detail}</div></div></div>`;
}

const lightCardOpts = { cardStyle:'background:#f3f4f6;border-color:#d1d5db;', dotExtra:';border:1px solid #d1d5db', nameStyle:'color:#111827;', detailStyle:'color:#4b5063;' };

// Dark main grid
document.getElementById('semanticGridDarkMain').innerHTML = semanticTokens.map(s => renderSemanticCard(s, 'dark')).join('');
// Light main grid
document.getElementById('semanticGridLightMain').innerHTML = semanticTokens.map(s => renderSemanticCard(s, 'light', lightCardOpts)).join('');
// Status colors
document.getElementById('statusGrid').innerHTML = statusColors.map(s =>
  `<div class="card-base status-card"><h3>${s.name}</h3><div class="status-swatches">${
    s.colors.map(c => `<div class="status-swatch ${c.t}" style="background:${c.h}" onclick="copyHex('${c.h}')"><span class="swatch-label">${c.l}</span><span class="swatch-hex">${c.h}</span></div>`).join('')
  }</div></div>`
).join('');

// 03 Typography — Font Weights
const fontWeights = [
  {weight:300, name:'Light'},{weight:400, name:'Regular'},{weight:500, name:'Medium'},
  {weight:600, name:'SemiBold'},{weight:700, name:'Bold'},{weight:800, name:'ExtraBold'},{weight:900, name:'Black'},
];
document.getElementById('fontWeights').innerHTML = fontWeights.map(fw =>
  `<div style="display:flex;align-items:baseline;gap:16px;padding:12px 16px;border:1px solid var(--neutral-300);border-radius:10px;"><span class="label-mono" style="width:32px;text-align:right;flex-shrink:0;">${fw.weight}</span><span style="font-size:24px;font-weight:${fw.weight};color:var(--neutral-1000);flex:1;">The quick brown fox jumps over the lazy dog</span><span class="label-mono" style="flex-shrink:0;">${fw.name}</span></div>`
).join('');

// 03 Typography — Type Scale
const tt = document.getElementById('typeTable');
let thtml = '<thead><tr><th>Token</th><th>Preview</th><th>Size</th><th>Weight</th><th>Line Height</th></tr></thead><tbody>';
typeScale.forEach(t => {
  const ff = t.font === 'mono' ? 'var(--font-mono)' : 'var(--font-sans)';
  const tx = t.transform ? `text-transform:${t.transform};` : '';
  const previewSize = Math.min(parseInt(t.size), 36);
  thtml += `<tr>
    <td><span class="type-token">${t.token}</span><br><span class="type-meta">${t.usage}</span></td>
    <td><span style="font-family:${ff};font-size:${previewSize}px;font-weight:${t.weight};letter-spacing:${t.ls};color:var(--neutral-1000);${tx}">The quick brown fox</span></td>
    <td><span class="type-meta">${t.size}<br>${t.rem}</span></td>
    <td><span class="type-meta">${t.weight}</span></td>
    <td><span class="type-meta">${t.lh}</span></td>
  </tr>`;
});
thtml += '</tbody>';
tt.innerHTML = thtml;

// 04 Spacing
const maxPx = 128;
document.getElementById('spacingList').innerHTML = spacingScale.map(s => {
  const w = s.px === 0 ? 2 : Math.max(2, (s.px / maxPx) * 100);
  return `<div class="spacing-row"><span class="spacing-token">${s.token}</span><span class="spacing-value">${s.val}</span><div class="spacing-bar" style="width:${w}%"></div></div>`;
}).join('');

// 05 Grid
document.getElementById('bpGrid').innerHTML = breakpoints.map(b =>
  `<div class="card-base"><div class="bp-name">${b.name}</div><div class="bp-range">${b.range}</div><div class="bp-detail">Columns: ${b.cols}<br>Gutter: ${b.gutter}<br>Margin: ${b.margin}<br>Max: ${b.maxW}</div></div>`
).join('');
document.getElementById('gridPreview').innerHTML = Array.from({length:12}, (_,i) => `<div class="grid-col">${i+1}</div>`).join('');

// 06 Radius
document.getElementById('radiusGrid').innerHTML = radii.map(r => {
  const rad = r.val === '9999px' ? `${r.size/2}px` : r.val;
  return `<div class="radius-item"><div class="radius-box" style="width:${r.size}px;height:${r.size}px;border-radius:${rad};"></div><div class="radius-label">${r.token}</div><div class="radius-val">${r.val}</div></div>`;
}).join('');

// 06b Stroke Width
const strokeWidths = [
  {token:'stroke-hairline',val:'0.5px',px:0.5},{token:'stroke-sm',val:'1px',px:1},
  {token:'stroke-md',val:'1.5px',px:1.5},{token:'stroke-lg',val:'2px',px:2},{token:'stroke-xl',val:'3px',px:3},
];
document.getElementById('strokeGrid').innerHTML = strokeWidths.map(s =>
  `<div class="stroke-row"><span class="stroke-token">${s.token}</span><span class="stroke-value">${s.val}</span><div class="stroke-line" style="border-top-width:${s.px}px;"></div></div>`
).join('');

// 07 Effects — render helper
const darkBg = 'background-image:radial-gradient(at 30% 30%,rgba(80,104,164,0.15) 0%,transparent 60%),radial-gradient(at 70% 70%,rgba(142,124,180,0.1) 0%,transparent 60%);';
const lightBg = 'background-image:radial-gradient(at 30% 30%,rgba(218,225,241,0.3) 0%,transparent 60%),radial-gradient(at 70% 70%,rgba(228,222,242,0.2) 0%,transparent 60%);';

function renderEffectCards(container, items, opts = {}) {
  const { bg = '', radius = '12px', light = false } = opts;
  container.innerHTML = items.map(e => {
    const ns = light ? ' style="color:#111827;"' : '';
    const ds = light ? ' style="color:#4b5063;"' : '';
    const cs = light ? ' style="background:rgba(0,0,0,0.06);color:#374050;"' : '';
    const bs = light ? ' style="background:#5068a4;color:#fff;"' : '';
    return `<div class="effect-card" style="${e.style}border-radius:${radius};${bg}"><div class="effect-name"${ns}>${e.name}</div><div class="effect-desc"${ds}>${t(e.desc, e.desc_en)}</div>${e.code ? `<div class="effect-code"${cs}>${e.code}<button class="copy-btn" onclick="event.stopPropagation();copyText(\`${e.code.replace(/`/g,"\\`")}\`)"${bs}>Copy</button></div>` : ''}</div>`;
  }).join('');
}

// Glass Dark / Light
renderEffectCards(document.getElementById('glassGrid'), glassEffects, { bg: darkBg });
renderEffectCards(document.getElementById('glassLightGrid'), glassLightEffects, { bg: lightBg, light: true });

// Liquid Glass — Dark
const liquidGlassEffects = [
  {name:'Liquid Glass',desc:'動的ティンティングの基本マテリアル',desc_en:'Base material with dynamic tinting',
   style:'position:relative;background:linear-gradient(135deg,rgba(80,104,164,0.08) 0%,rgba(142,124,180,0.05) 50%,rgba(80,104,164,0.08) 100%);backdrop-filter:blur(40px) saturate(1.8) brightness(1.1);-webkit-backdrop-filter:blur(40px) saturate(1.8) brightness(1.1);border:1px solid rgba(255,255,255,0.12);box-shadow:inset 0 1px 0 rgba(255,255,255,0.15),inset 0 -1px 0 rgba(0,0,0,0.1),0 8px 32px rgba(0,0,0,0.3);',
   code:'backdrop-filter: blur(40px) saturate(1.8)\n  brightness(1.1);\nborder: 1px solid rgba(255,255,255,0.12);\nbox-shadow: inset 0 1px 0\n  rgba(255,255,255,0.15);'},
  {name:'Liquid Glass Deep',desc:'ヘッダー・ナビゲーション用',desc_en:'For header / navigation',
   style:'position:relative;background:linear-gradient(135deg,rgba(15,18,32,0.4) 0%,rgba(54,48,79,0.2) 50%,rgba(15,18,32,0.4) 100%);backdrop-filter:blur(60px) saturate(2.0) brightness(0.95);-webkit-backdrop-filter:blur(60px) saturate(2.0) brightness(0.95);border:1px solid rgba(142,124,180,0.1);box-shadow:inset 0 1px 0 rgba(255,255,255,0.08),0 16px 48px rgba(0,0,0,0.4);',
   code:'backdrop-filter: blur(60px) saturate(2.0)\n  brightness(0.95);\nborder: 1px solid\n  rgba(142,124,180,0.1);'},
  {name:'Liquid Glass Subtle',desc:'ツールチップ・ポップオーバー用',desc_en:'For tooltip / popover',
   style:'position:relative;background:rgba(10,10,12,0.5);backdrop-filter:blur(30px) saturate(1.6);-webkit-backdrop-filter:blur(30px) saturate(1.6);border:1px solid rgba(255,255,255,0.08);box-shadow:inset 0 0.5px 0 rgba(255,255,255,0.1),0 4px 16px rgba(0,0,0,0.3);',
   code:'backdrop-filter: blur(30px)\n  saturate(1.6);\nborder: 1px solid\n  rgba(255,255,255,0.08);'},
];
renderEffectCards(document.getElementById('liquidGlassGrid'), liquidGlassEffects, { bg: darkBg, radius: '16px' });

// Liquid Glass — Light
const liquidGlassLightEffects = [
  {name:'Liquid Glass Light',desc:'ライトモード基本',desc_en:'Light mode base',
   style:'position:relative;background:linear-gradient(135deg,rgba(218,225,241,0.3) 0%,rgba(228,222,242,0.2) 50%,rgba(218,225,241,0.3) 100%);backdrop-filter:blur(40px) saturate(1.6) brightness(1.15);-webkit-backdrop-filter:blur(40px) saturate(1.6) brightness(1.15);border:1px solid rgba(255,255,255,0.5);box-shadow:inset 0 1px 0 rgba(255,255,255,0.6),0 8px 32px rgba(80,104,164,0.1);',
   code:'backdrop-filter: blur(40px) saturate(1.6)\n  brightness(1.15);\nborder: 1px solid\n  rgba(255,255,255,0.5);'},
  {name:'Liquid Glass Light Deep',desc:'ライトモード・ヘッダー',desc_en:'Light mode header',
   style:'position:relative;background:linear-gradient(180deg,rgba(255,255,255,0.7) 0%,rgba(238,240,245,0.5) 100%);backdrop-filter:blur(60px) saturate(1.8) brightness(1.1);-webkit-backdrop-filter:blur(60px) saturate(1.8) brightness(1.1);border:1px solid rgba(255,255,255,0.8);box-shadow:inset 0 1px 0 rgba(255,255,255,0.9),0 12px 40px rgba(80,104,164,0.08);',
   code:'backdrop-filter: blur(60px) saturate(1.8)\n  brightness(1.1);\nborder: 1px solid\n  rgba(255,255,255,0.8);'},
];
renderEffectCards(document.getElementById('liquidGlassLightGrid'), liquidGlassLightEffects, { bg: lightBg, radius: '16px', light: true });

// Gradients Dark / Light
renderEffectCards(document.getElementById('gradientGrid'), gradients);
renderEffectCards(document.getElementById('gradientLightGrid'), lightGradients, { light: true });

// Glow — Basic
document.getElementById('glowGrid').innerHTML = glowEffects.map(g =>
  `<div class="effect-card" style="background:var(--neutral-200);border:1px solid var(--neutral-300);border-radius:12px;box-shadow:${g.shadow};"><div class="effect-name">${g.name}</div><div class="effect-desc">${t(g.desc, g.desc_en)}</div></div>`
).join('');

// Glow — Gradients
document.getElementById('glowGradientGrid').innerHTML = glowGradientEffects.map(g =>
  `<div class="effect-card" style="background:var(--neutral-100);border:1px solid var(--neutral-300);border-radius:12px;padding:0;overflow:hidden;justify-content:stretch;"><div style="min-height:140px;background-image:${g.bg},${g.bg},${g.bg};background-color:var(--neutral-0);display:flex;align-items:center;justify-content:center;flex-shrink:0;"><div style="width:64px;height:64px;border-radius:50%;background:var(--neutral-200);border:1px solid var(--neutral-300);box-shadow:0 0 40px rgba(80,104,164,0.1);"></div></div><div style="padding:16px 24px 24px;flex:1;display:flex;flex-direction:column;justify-content:flex-end;"><div class="effect-name">${g.name}</div><div class="effect-desc">${t(g.desc, g.desc_en)}</div><div class="effect-code">${g.code}<button class="copy-btn" onclick="event.stopPropagation();copyText(\`${g.code.replace(/`/g,"\\`")}\`)">Copy</button></div></div></div>`
).join('');

// Shadows
function renderShadows() {
  const isLight = document.documentElement.dataset.theme === 'light';
  document.getElementById('shadowGrid').innerHTML = shadows.map(s => {
    const v = isLight ? s.lightValue : s.value;
    return `<div class="shadow-item" style="box-shadow:${v}"><span class="shadow-label">${s.name}</span></div>`;
  }).join('');
}
renderShadows();

// 08 Elevation
function renderElevation() {
  const isLight = document.documentElement.dataset.theme === 'light';
  document.getElementById('elevationStack').innerHTML = elevationLayers.map((l, i) => {
    const top = i * 46, left = i * 8, bg = isLight ? l.lightBg : l.bg;
    return `<div class="elevation-layer" style="background:${bg};top:${top}px;left:${left}px;right:${left}px;z-index:${700 - i * 100};"><span class="elevation-name">${l.name}</span><span class="elevation-z">z-index: ${l.z}</span></div>`;
  }).join('');
}
renderElevation();

// 09 Motion
document.getElementById('motionGrid').innerHTML = motionTokens.map(m =>
  `<div class="card-base motion-card" onmouseenter="this.querySelector('.motion-demo').style.transitionDuration='${m.duration}';this.querySelector('.motion-demo').style.transform='scale(1.2) rotate(8deg)';this.querySelector('.motion-demo').style.boxShadow='0 0 30px rgba(80,104,164,0.3)';" onmouseleave="this.querySelector('.motion-demo').style.transform='';this.querySelector('.motion-demo').style.boxShadow='';">
    <div class="motion-demo" style="transition-duration:${m.duration};transition-timing-function:${m.easing};"></div>
    <div class="motion-name">${m.name}</div>
    <div class="motion-val">${m.duration} &middot; ${m.easing}</div>
  </div>`
).join('');

document.getElementById('animGrid').innerHTML = animPatterns.map(a =>
  `<div class="card-base anim-card" onmouseenter="const d=this.querySelector('.anim-demo');d.style.animation='${a.anim}';d.style.opacity='1';" onmouseleave="const d=this.querySelector('.anim-demo');d.style.animation='';d.style.opacity='0.6';">
    <div class="anim-demo" style="${a.extraStyle || ''}"></div>
    <div class="anim-name">${a.name}</div>
    <div class="anim-desc">${t(a.desc, a.desc_en)}</div>
  </div>`
).join('');

// 10 Iconography
document.getElementById('iconTable').innerHTML = iconProps.map(([k,v]) => `<tr><td>${k}</td><td>${v}</td></tr>`).join('');

// 11 Platform tabs
const platformKeys = Object.keys(platformData);
document.getElementById('tabBar').innerHTML = platformKeys.map((key, i) =>
  `<button class="tab-btn${i===0?' active':''}" onclick="switchTab('${key}',this)">${key}</button>`
).join('');
document.getElementById('tabContents').innerHTML = platformKeys.map((key, i) => {
  const d = platformData[key];
  const items = d.ja.map((item, j) => `<li>${t(item, d.en[j])}</li>`).join('');
  return `<div class="tab-content${i===0?' active':''}" data-tab="${key}"><ul class="platform-list">${items}</ul></div>`;
}).join('');

function switchTab(key, btn) {
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
  btn.classList.add('active');
  document.querySelector(`.tab-content[data-tab="${key}"]`).classList.add('active');
}

// 12 Status reference — separated by theme
const statusLightBg = { Success:'#ecfdf5', Warning:'#fefce8', Error:'#fef2f2', Info:'#eff6ff' };
const statusLightText = { Success:'#16a34a', Warning:'#ca8a04', Error:'#dc2626', Info:'#2563eb' };

// Dark panel
document.getElementById('statusRefDark').innerHTML = '<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;">' + statusColors.map(s =>
  `<div style="display:flex;flex-direction:column;gap:8px;">
    <div style="font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);">${s.name}</div>
    <div style="background:${s.colors[3].h};border:1px solid ${s.colors[2].h};border-radius:8px;padding:12px;">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
        <div style="width:8px;height:8px;border-radius:50%;background:${s.colors[0].h};"></div>
        <span style="font-family:var(--font-mono);font-size:10px;color:${s.colors[0].h};">400 icon ${s.colors[0].h}</span>
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
        <div style="width:8px;height:2px;background:${s.colors[1].h};"></div>
        <span style="font-family:var(--font-mono);font-size:10px;color:${s.colors[1].h};">500 text ${s.colors[1].h}</span>
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <div style="width:8px;height:8px;border-radius:2px;background:${s.colors[3].h};border:1px solid ${s.colors[2].h};"></div>
        <span style="font-family:var(--font-mono);font-size:10px;color:var(--neutral-700);">900 bg ${s.colors[3].h}</span>
      </div>
    </div>
  </div>`
).join('') + '</div>';

// Light panel
document.getElementById('statusRefLight').innerHTML = '<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;">' + statusColors.map(s =>
  `<div style="display:flex;flex-direction:column;gap:8px;">
    <div style="font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--neutral-700);">${s.name}</div>
    <div style="background:${statusLightBg[s.name]};border:1px solid #d7dded;border-radius:8px;padding:12px;">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
        <div style="width:8px;height:8px;border-radius:50%;background:${s.colors[2].h};"></div>
        <span style="font-family:var(--font-mono);font-size:10px;color:${s.colors[2].h};">600 icon ${s.colors[2].h}</span>
      </div>
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
        <div style="width:8px;height:2px;background:${statusLightText[s.name]};"></div>
        <span style="font-family:var(--font-mono);font-size:10px;color:${statusLightText[s.name]};">600 text ${statusLightText[s.name]}</span>
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <div style="width:8px;height:8px;border-radius:2px;background:${statusLightBg[s.name]};border:1px solid #d7dded;"></div>
        <span style="font-family:var(--font-mono);font-size:10px;color:#4b5063;">50 bg ${statusLightBg[s.name]}</span>
      </div>
    </div>
  </div>`
).join('') + '</div>';

/* ── Sidebar: Intersection Observer ── */
const sections = document.querySelectorAll('.section');
const navLinks = document.querySelectorAll('.nav-group a');

const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      navLinks.forEach(l => l.classList.remove('active'));
      const link = document.querySelector(`.nav-group a[href="#${entry.target.id}"]`);
      if (link) link.classList.add('active');
    }
  });
}, { rootMargin: '-20% 0px -70% 0px' });

sections.forEach(s => observer.observe(s));

/* ── Mobile sidebar toggle ── */
function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('overlay').classList.toggle('open');
}

// Close sidebar on nav click (mobile)
navLinks.forEach(l => l.addEventListener('click', () => {
  if (window.innerWidth < 1024) toggleSidebar();
}));
</script>
</body>
</html>
