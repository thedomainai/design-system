<!DOCTYPE html>
<html lang="ja" data-lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Domain AI Company — Paper Design System</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Instrument+Sans:wght@400;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    /* Ink Scale */
    --ink-1000:#000000;--ink-900:#1a1a1a;--ink-800:#2d2d2d;--ink-700:#404040;
    --ink-600:#525252;--ink-500:#6b6b6b;--ink-400:#8a8a8a;--ink-300:#a3a3a3;
    --ink-200:#c4c4c4;--ink-100:#e0e0e0;--ink-50:#f0f0f0;
    /* Paper Scale */
    --paper-white:#fdfdfc;--paper-cream:#faf9f7;--paper-warm:#f5f4f0;
    --paper-kraft:#eeedea;--paper-aged:#e8e7e3;--paper-shadow:#dddcd8;
    /* Accent Ink */
    --ink-blue:#4a6d8c;--ink-green:#4a7c5c;--ink-amber:#8c6d3f;--ink-red:#8c4a4a;
    /* Accent Wash */
    --wash-blue:#eef2f7;--wash-green:#edf4ef;--wash-amber:#f5f1ea;--wash-red:#f5eded;
    /* Fonts */
    --font-serif:'Crimson Pro',Georgia,'Times New Roman',serif;
    --font-sans:'Instrument Sans',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
    --font-mono:'JetBrains Mono','SF Mono','Fira Code',monospace;
    --sidebar-width:260px;
  }

  /* i18n */
  [data-lang="ja"] .i18n-en{display:none !important;}
  [data-lang="en"] .i18n-ja{display:none !important;}

  /* Utility */
  *{margin:0;padding:0;box-sizing:border-box;}
  html{scroll-behavior:smooth;scroll-padding-top:32px;}
  body{
    font-family:var(--font-sans);
    background:var(--paper-white);
    color:var(--ink-900);
    line-height:1.6;
    overflow-x:hidden;
    position:relative;
  }
  /* Grid background */
  body::before{
    content:"";position:fixed;inset:0;z-index:-1;pointer-events:none;
    background-image:
      linear-gradient(var(--ink-100) 1px,transparent 1px),
      linear-gradient(90deg,var(--ink-100) 1px,transparent 1px);
    background-size:40px 40px;
    opacity:0.25;
  }

  .card-base{background:var(--paper-cream);border:1px solid var(--ink-100);padding:20px;transition:border-color .15s ease;}
  .card-base:hover{border-color:var(--ink-900);}
  .grid-auto{display:grid;gap:12px;}
  .h-section{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-900);margin:32px 0 16px;}
  .h-section:first-child{margin-top:0;}
  .h-section--flush{margin-top:0;}
  .label-mono{font-family:var(--font-mono);font-size:10px;color:var(--ink-500);}
  .label-upper{font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--ink-500);margin-bottom:12px;}

  /* Sidebar */
  .sidebar{position:fixed;top:0;left:0;width:var(--sidebar-width);height:100vh;background:var(--paper-kraft);border-right:1px solid var(--ink-100);padding:32px 0;overflow-y:auto;z-index:100;transition:transform .3s ease;}
  .sidebar-header{padding:0 24px 24px;border-bottom:1px solid var(--ink-100);margin-bottom:16px;}
  .sidebar-header h1{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);letter-spacing:-0.3px;}
  .sidebar-header p{font-size:11px;color:var(--ink-500);margin-top:4px;font-weight:400;}

  .switcher-bar{display:flex;gap:8px;margin-top:12px;}
  .switcher{display:inline-flex;background:var(--paper-shadow);padding:2px;}
  .switcher button{border:none;background:transparent;color:var(--ink-500);font-family:var(--font-mono);font-size:10px;padding:3px 8px;cursor:pointer;transition:all .15s ease;line-height:1.4;}
  .switcher button.active{background:var(--ink-900);color:var(--paper-white);}

  .nav-group{padding:0 12px;}
  .nav-group a{display:flex;align-items:center;gap:10px;padding:8px 12px;font-size:13px;font-weight:400;color:var(--ink-500);text-decoration:none;transition:all .15s ease;margin-bottom:2px;border-left:2px solid transparent;}
  .nav-group a:hover{color:var(--ink-900);background:var(--paper-aged);}
  .nav-group a.active{color:var(--ink-1000);background:var(--wash-blue);font-weight:600;border-left-color:var(--ink-blue);}
  .nav-group a .nav-num{font-family:var(--font-mono);font-size:10px;color:var(--ink-400);width:20px;text-align:right;flex-shrink:0;}
  .nav-group a.active .nav-num{color:var(--ink-blue);}

  /* Main */
  .main{margin-left:var(--sidebar-width);min-height:100vh;}
  .hero{padding:80px 64px 64px;border-bottom:2px solid var(--ink-1000);}
  .hero-label{font-size:13px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--ink-500);margin-bottom:16px;display:flex;justify-content:space-between;}
  .hero h1{font-family:var(--font-serif);font-size:48px;font-weight:300;letter-spacing:-1.5px;color:var(--ink-1000);margin-bottom:8px;line-height:1.1;}
  .hero h1 em{font-style:italic;font-weight:400;}
  .hero p{font-size:14px;color:var(--ink-600);max-width:600px;line-height:1.7;}
  .content{padding:0 64px 96px;}

  /* Section */
  .section{padding-top:64px;}
  .section-header{display:flex;align-items:center;gap:16px;margin-bottom:32px;}
  .section-header h2{font-family:var(--font-serif);font-size:14px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--ink-500);white-space:nowrap;}
  .section-header::after{content:'';flex:1;height:1px;background:var(--ink-100);}
  .section-desc{font-size:14px;color:var(--ink-600);margin-bottom:24px;max-width:700px;}

  /* Principles */
  .principles-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));}
  .principle-num{font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:8px;}
  .principle-title{font-family:var(--font-serif);font-size:18px;font-weight:600;color:var(--ink-1000);margin-bottom:6px;}
  .principle-desc{font-size:13px;color:var(--ink-600);line-height:1.5;}

  /* Color Swatches */
  .palette-group{margin-bottom:32px;}
  .palette-label{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-900);margin-bottom:8px;display:flex;align-items:baseline;gap:8px;}
  .palette-label span{font-size:12px;color:var(--ink-500);font-weight:400;font-family:var(--font-sans);}
  .swatches{display:flex;gap:2px;overflow:hidden;}
  .swatch{flex:1;min-height:80px;padding:8px 10px;display:flex;flex-direction:column;justify-content:flex-end;cursor:pointer;transition:transform .15s ease;position:relative;}
  .swatch:hover{transform:scaleY(1.08);z-index:1;}
  .swatch-label{font-family:var(--font-mono);font-size:10px;font-weight:500;}
  .swatch-hex{font-family:var(--font-mono);font-size:9px;opacity:.6;margin-top:1px;}
  .swatch.dark .swatch-label,.swatch.dark .swatch-hex{color:rgba(255,255,255,0.85);}
  .swatch.light .swatch-label,.swatch.light .swatch-hex{color:rgba(0,0,0,0.7);}

  /* Semantic Tokens */
  .semantic-grid{grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px;margin-top:24px;}
  .semantic-card{padding:14px;display:flex;align-items:center;gap:14px;cursor:pointer;}
  .semantic-dot{width:36px;height:36px;flex-shrink:0;}
  .semantic-name{font-size:13px;font-weight:600;color:var(--ink-900);}
  .semantic-detail{font-family:var(--font-mono);font-size:10px;color:var(--ink-500);margin-top:2px;}

  /* Status */
  .status-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;}
  .status-card h3{font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--ink-500);padding:12px 14px 8px;}
  .status-demo{padding:14px;display:flex;align-items:center;gap:10px;}
  .status-symbol{font-family:var(--font-mono);font-size:14px;font-weight:700;width:24px;text-align:center;flex-shrink:0;}
  .status-text{font-size:13px;font-weight:600;color:var(--ink-900);}

  /* Typography */
  .type-table{width:100%;border-collapse:collapse;}
  .type-table th{text-align:left;font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-500);padding:0 16px 12px;border-bottom:1px solid var(--ink-900);}
  .type-table td{padding:16px;border-bottom:1px solid var(--ink-100);vertical-align:middle;}
  .type-token{font-family:var(--font-mono);font-size:12px;color:var(--ink-700);white-space:nowrap;}
  .type-meta{font-family:var(--font-mono);font-size:11px;color:var(--ink-500);}

  /* Spacing */
  .spacing-list{display:flex;flex-direction:column;gap:8px;}
  .spacing-row{display:flex;align-items:center;gap:16px;}
  .spacing-token{font-family:var(--font-mono);font-size:12px;color:var(--ink-500);width:80px;text-align:right;flex-shrink:0;}
  .spacing-value{font-family:var(--font-mono);font-size:11px;color:var(--ink-500);width:50px;flex-shrink:0;}
  .spacing-bar{height:20px;background:var(--ink-900);opacity:.5;transition:opacity .15s ease;}
  .spacing-row:hover .spacing-bar{opacity:1;}

  /* Grid */
  .bp-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));}
  .bp-name{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);margin-bottom:4px;}
  .bp-range{font-family:var(--font-mono);font-size:12px;color:var(--ink-700);margin-bottom:8px;}
  .bp-detail{font-size:12px;color:var(--ink-500);line-height:1.6;}
  .grid-demo{margin-top:24px;overflow:hidden;}
  .grid-cols{display:grid;gap:4px;}
  .grid-col{background:var(--paper-warm);border:1px solid var(--ink-200);height:36px;display:flex;align-items:center;justify-content:center;font-family:var(--font-mono);font-size:10px;color:var(--ink-500);}

  /* Radius */
  .radius-grid{display:flex;flex-wrap:wrap;gap:20px;align-items:end;}
  .radius-item{display:flex;flex-direction:column;align-items:center;gap:8px;}
  .radius-box{background:transparent;border:1.5px solid var(--ink-300);transition:border-color .15s ease;}
  .radius-item:hover .radius-box{border-color:var(--ink-900);}
  .radius-label{font-family:var(--font-mono);font-size:11px;color:var(--ink-500);}
  .radius-val{font-family:var(--font-mono);font-size:10px;color:var(--ink-400);}

  /* Stroke Width */
  .stroke-grid{display:flex;flex-direction:column;gap:16px;max-width:600px;}
  .stroke-row{display:flex;align-items:center;gap:20px;}
  .stroke-token{font-family:var(--font-mono);font-size:12px;color:var(--ink-500);width:120px;text-align:right;flex-shrink:0;}
  .stroke-value{font-family:var(--font-mono);font-size:11px;color:var(--ink-400);width:40px;flex-shrink:0;}
  .stroke-line{flex:1;border-top-style:solid;border-top-color:var(--ink-900);transition:border-top-color .15s ease;}

  /* Material Cards */
  .material-overview{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:32px;}
  .material-overview-card{padding:24px;min-height:140px;display:flex;flex-direction:column;justify-content:flex-end;}
  @media(max-width:767px){.material-overview{grid-template-columns:1fr;}}

  .material-demo-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;}
  .material-demo-card{padding:24px;min-height:120px;display:flex;flex-direction:column;justify-content:flex-end;}
  .material-name{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);margin-bottom:4px;}
  .material-desc{font-size:12px;color:var(--ink-600);}
  .material-code{font-family:var(--font-mono);font-size:10px;color:var(--ink-500);margin-top:8px;padding:8px;background:var(--paper-warm);border:1px solid var(--ink-100);line-height:1.5;white-space:pre-wrap;position:relative;}
  .copy-btn{position:absolute;top:4px;right:4px;background:var(--ink-900);color:var(--paper-white);border:none;padding:2px 8px;font-family:var(--font-mono);font-size:9px;cursor:pointer;opacity:0;transition:opacity .15s ease;}
  .material-code:hover .copy-btn{opacity:1;}

  /* Shadows */
  .shadow-grid{display:flex;flex-wrap:wrap;gap:24px;margin-top:16px;}
  .shadow-item{width:120px;height:120px;background:var(--paper-white);border:1px solid var(--ink-100);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;}
  .shadow-label{font-family:var(--font-mono);font-size:11px;color:var(--ink-500);}

  /* Decorative Lines */
  .line-demo-grid{display:flex;flex-direction:column;gap:24px;max-width:500px;margin-top:16px;}
  .line-demo{display:flex;flex-direction:column;gap:6px;}
  .line-demo-label{font-family:var(--font-mono);font-size:11px;color:var(--ink-500);}

  /* Elevation */
  .elevation-stack{display:flex;flex-direction:column;gap:0;position:relative;height:340px;max-width:500px;}
  .elevation-layer{position:absolute;left:0;right:0;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;border:1px solid var(--ink-100);transition:transform .2s ease;}
  .elevation-layer:hover{transform:translateX(8px);}
  .elevation-name{font-size:13px;font-weight:600;color:var(--ink-900);}
  .elevation-z{font-family:var(--font-mono);font-size:11px;color:var(--ink-500);}

  /* Motion */
  .motion-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;}
  .motion-card{text-align:center;}
  .motion-demo{width:48px;height:48px;background:var(--ink-900);margin:0 auto 12px;transition-property:transform,box-shadow;}
  .motion-name{font-size:13px;font-weight:600;color:var(--ink-900);margin-bottom:2px;}
  .motion-val{font-family:var(--font-mono);font-size:10px;color:var(--ink-500);}

  /* Hover Demos */
  .hover-demo-grid{grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px;}
  .hover-demo-card{padding:32px;display:flex;flex-direction:column;align-items:center;gap:16px;}
  .hover-demo-name{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);}
  .hover-demo-desc{font-size:12px;color:var(--ink-500);text-align:center;max-width:260px;}

  /* Platform Tabs */
  .tab-bar{display:flex;gap:4px;margin-bottom:24px;border-bottom:1px solid var(--ink-100);padding-bottom:0;}
  .tab-btn{background:none;border:none;color:var(--ink-500);font-family:var(--font-sans);font-size:13px;font-weight:400;padding:10px 16px;cursor:pointer;border-bottom:2px solid transparent;margin-bottom:-1px;transition:all .15s ease;}
  .tab-btn:hover{color:var(--ink-900);}
  .tab-btn.active{color:var(--ink-1000);border-bottom-color:var(--ink-blue);font-weight:600;}
  .tab-content{display:none;}
  .tab-content.active{display:block;}
  .platform-list{list-style:none;display:flex;flex-direction:column;gap:8px;}
  .platform-list li{font-size:13px;color:var(--ink-700);padding:10px 14px;background:var(--paper-cream);border:1px solid var(--ink-100);line-height:1.5;}
  .platform-list li::before{content:'';display:inline-block;width:6px;height:6px;background:var(--ink-900);margin-right:10px;vertical-align:middle;}

  /* Page Structure */
  .ref-visual{background:var(--paper-cream);border:1px solid var(--ink-100);padding:32px;max-width:720px;}
  .ref-layer{padding:20px;position:relative;}
  .ref-label{font-family:var(--font-mono);font-size:10px;color:var(--ink-400);position:absolute;top:8px;right:12px;}
  .ref-inner-card{padding:16px;margin-top:12px;}
  .ref-text-line{display:flex;align-items:baseline;gap:12px;margin-bottom:6px;}
  .ref-text-role{font-family:var(--font-mono);font-size:10px;color:var(--ink-400);width:90px;text-align:right;flex-shrink:0;}
  .ref-btn{display:inline-block;padding:8px 20px;font-size:13px;font-weight:600;margin-top:12px;cursor:default;}

  /* Icon Table */
  .icon-table{width:100%;border-collapse:collapse;max-width:600px;}
  .icon-table td{padding:12px 16px;border-bottom:1px solid var(--ink-100);font-size:13px;}
  .icon-table td:first-child{font-weight:600;color:var(--ink-700);width:140px;}
  .icon-table td:last-child{color:var(--ink-600);}

  /* Component Demos */
  .demo-panel{background:var(--paper-cream);border:1px solid var(--ink-100);padding:32px;margin-bottom:16px;}
  .demo-label{font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-500);margin-bottom:16px;}
  .demo-row{display:flex;gap:16px;flex-wrap:wrap;align-items:center;margin-bottom:24px;}
  .demo-row:last-child{margin-bottom:0;}

  /* Buttons */
  .btn{display:inline-flex;align-items:center;justify-content:center;border:0;font-family:var(--font-sans);font-weight:600;cursor:pointer;transition:all .15s ease;line-height:1;}
  .btn:active{transform:scale(0.97);}
  .btn--sm{height:32px;padding:0 12px;font-size:12px;border-radius:4px;}
  .btn--md{height:40px;padding:0 20px;font-size:14px;border-radius:4px;}
  .btn--lg{height:48px;padding:0 28px;font-size:15px;border-radius:4px;}
  .btn--primary{background:var(--ink-900);color:var(--paper-white);border:1px solid var(--ink-900);}
  .btn--primary:hover{background:var(--ink-700);border-color:var(--ink-700);}
  .btn--secondary{background:transparent;color:var(--ink-900);border:1px solid var(--ink-900);}
  .btn--secondary:hover{background:var(--ink-900);color:var(--paper-white);}
  .btn--ghost{background:transparent;color:var(--ink-600);border:1px solid transparent;}
  .btn--ghost:hover{color:var(--ink-900);background:var(--paper-aged);}
  .btn--danger{background:transparent;color:var(--ink-900);border:2px solid var(--ink-900);}
  .btn--danger:hover{background:var(--ink-900);color:var(--paper-white);}
  .btn--focused{outline:2px solid var(--ink-blue);outline-offset:2px;}
  .btn--disabled{opacity:0.3;cursor:not-allowed;pointer-events:none;}

  /* Badge */
  .badge-demo{display:inline-flex;align-items:center;height:22px;padding:0 8px;border-radius:2px;font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;background:var(--paper-warm);color:var(--ink-900);}
  .badge-demo--live{background:var(--wash-green);color:var(--ink-green);border:1px solid var(--ink-green);}
  .badge-demo--pilot{background:var(--wash-blue);color:var(--ink-blue);border:1px solid var(--ink-blue);}
  .badge-demo--planning{background:var(--wash-amber);color:var(--ink-amber);border:1px solid var(--ink-amber);}
  .badge-demo--default{border:1px solid var(--ink-200);}

  /* Input */
  .input-demo{width:100%;height:40px;padding:0 12px;background:var(--paper-warm);border:1px solid var(--ink-100);border-radius:0;color:var(--ink-900);font-family:var(--font-sans);font-size:14px;outline:none;transition:border-color .15s ease;}
  .input-demo:focus{border-color:var(--ink-blue);outline:2px solid var(--ink-blue);outline-offset:2px;}
  .input-demo--error{border-color:var(--ink-red);border-width:2px;}
  .input-demo--disabled{background:var(--paper-kraft);opacity:0.5;cursor:not-allowed;}

  /* Modal */
  .modal-demo-bg{position:relative;background:rgba(253,253,252,0.8);border:1px solid var(--ink-100);padding:48px;display:flex;justify-content:center;margin-bottom:16px;}
  .modal-demo-panel{background:var(--paper-white);border:1px solid var(--ink-200);padding:24px;width:100%;max-width:400px;box-shadow:4px 4px 0 var(--ink-100),8px 8px 0 var(--ink-50);}
  .modal-demo-title{font-family:var(--font-serif);font-size:20px;font-weight:600;color:var(--ink-1000);margin-bottom:8px;}
  .modal-demo-body{font-size:14px;color:var(--ink-600);margin-bottom:20px;line-height:1.5;}

  /* Toast */
  .toast-demo{padding:8px 16px;font-size:12px;}
  .toast-demo--default{background:var(--ink-900);color:var(--paper-white);}
  .toast-demo--alt{background:var(--paper-cream);color:var(--ink-900);border:1px solid var(--ink-100);}

  /* Table */
  .table-demo{width:100%;border-collapse:collapse;max-width:600px;}
  .table-demo th{text-align:left;font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-500);padding:0 16px 12px;border-bottom:1px solid var(--ink-900);}
  .table-demo td{padding:12px 16px;border-bottom:1px solid var(--ink-100);}
  .table-demo td:first-child{font-family:var(--font-mono);font-size:13px;color:var(--ink-700);}
  .table-demo td:nth-child(2){font-family:var(--font-mono);font-size:13px;color:var(--ink-500);}
  .table-demo td:last-child{font-size:14px;color:var(--ink-700);}
  .table-demo tr{transition:background .1s ease;}
  .table-demo tbody tr:hover{background:var(--paper-warm);}

  /* Progress Bar */
  .progress-demo{height:4px;background:var(--ink-100);border-radius:2px;overflow:hidden;margin-bottom:4px;}
  .progress-fill{height:100%;background:var(--ink-900);border-radius:2px;}

  /* Metric Card */
  .metric-demo{text-align:center;padding:24px;}
  .metric-value{font-family:var(--font-serif);font-size:36px;font-weight:300;color:var(--ink-900);}
  .metric-label{font-size:12px;color:var(--ink-400);margin-top:4px;}

  /* Interaction Patterns */
  .interaction-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;}
  .interaction-card{padding:24px;}
  .interaction-title{font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);margin-bottom:8px;}
  .interaction-steps{list-style:none;display:flex;flex-direction:column;gap:6px;}
  .interaction-steps li{font-size:13px;color:var(--ink-600);padding-left:20px;position:relative;line-height:1.5;}
  .interaction-steps li::before{content:attr(data-step);position:absolute;left:0;font-family:var(--font-mono);font-size:11px;color:var(--ink-400);font-weight:600;}

  /* Dependencies */
  .dep-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;}
  .dep-card{padding:16px;}
  .dep-name{font-family:var(--font-mono);font-size:13px;font-weight:600;color:var(--ink-900);margin-bottom:4px;}
  .dep-desc{font-size:12px;color:var(--ink-600);line-height:1.5;}

  /* Toast notification */
  .toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(20px);background:var(--ink-900);color:var(--paper-white);padding:8px 20px;font-size:12px;font-family:var(--font-mono);opacity:0;pointer-events:none;transition:all .2s ease;z-index:9999;}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

  /* Mobile */
  .menu-btn{display:none;position:fixed;top:16px;left:16px;z-index:200;width:40px;height:40px;background:var(--paper-cream);border:1px solid var(--ink-100);cursor:pointer;align-items:center;justify-content:center;}
  .menu-btn span{display:block;width:18px;height:2px;background:var(--ink-900);transition:all .2s ease;}
  .menu-btn span+span{margin-top:4px;}
  .overlay{display:none;position:fixed;inset:0;background:rgba(253,253,252,.8);z-index:90;}

  @media(max-width:1023px){
    .sidebar{transform:translateX(-100%);}
    .sidebar.open{transform:translateX(0);}
    .main{margin-left:0;}
    .hero{padding:64px 24px 48px;}
    .content{padding:0 24px 64px;}
    .menu-btn{display:flex;}
    .overlay.open{display:block;}
    .status-grid{grid-template-columns:repeat(2,1fr);}
  }
  @media(max-width:639px){
    .hero h1{font-size:32px;}
    .material-demo-grid{grid-template-columns:1fr;}
    .status-grid{grid-template-columns:1fr;}
    .swatches{flex-wrap:wrap;}
    .swatch{min-width:calc(25% - 2px);min-height:64px;}
    .interaction-grid{grid-template-columns:1fr;}
  }

  @media(prefers-reduced-motion:reduce){
    .btn{transition:none;}
  }

  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
</style>
</head>
<body>

<!-- Sidebar -->
<button class="menu-btn" onclick="toggleSidebar()" aria-label="Menu">
  <span></span><span></span><span></span>
</button>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<nav class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h1>The Domain AI</h1>
    <p>Paper Design System v2.0</p>
    <div class="switcher-bar">
      <div class="switcher" id="langSwitcher">
        <button onclick="setLang('en')">EN</button>
        <button class="active" onclick="setLang('ja')">JA</button>
      </div>
    </div>
  </div>
  <div class="nav-group">
    <a href="#philosophy"><span class="nav-num">01</span>Design Philosophy</a>
    <a href="#typography"><span class="nav-num">02</span>Typography</a>
    <a href="#colors"><span class="nav-num">03</span>Color Tokens</a>
    <a href="#layout"><span class="nav-num">04</span>Layout</a>
    <a href="#spacing"><span class="nav-num">05</span>Spacing</a>
    <a href="#shape"><span class="nav-num">06</span>Shape &amp; Lines</a>
    <a href="#materials"><span class="nav-num">07</span>Material System</a>
    <a href="#elevation"><span class="nav-num">08</span>Elevation</a>
    <a href="#motion"><span class="nav-num">09</span>Motion</a>
    <a href="#components"><span class="nav-num">10</span>Components</a>
    <a href="#interactions"><span class="nav-num">11</span>Interaction Patterns</a>
    <a href="#iconography"><span class="nav-num">12</span>Iconography</a>
    <a href="#platforms"><span class="nav-num">13</span>Platform Guidelines</a>
    <a href="#dependencies"><span class="nav-num">14</span>Dependencies</a>
  </div>
</nav>

<main class="main">

  <!-- Hero -->
  <div class="hero">
    <div class="hero-label">
      <span>THE DOMAIN AI // Paper Design System</span>
      <span>February 2026</span>
    </div>
    <h1>Paper Design <em>System</em></h1>
    <p><span class="i18n-ja">紙とインクで成立する Editorial / Magazine-inspired design。情報階層はセリフ体とサンセリフ体の対比、ウェイトとサイズの段階、余白の量と質で表現する。色は黒インクを主軸に、意味のある場面でのみ淡い色付きインクを添えるデザインシステムです。</span><span class="i18n-en">Editorial / Magazine-inspired design built with paper and ink. Information hierarchy is expressed through serif/sans-serif contrast, weight and size gradation, and whitespace. Color is used sparingly — black ink as the lead, with muted colored inks only where they carry meaning.</span></p>
  </div>

  <div class="content">

    <!-- 01 Design Philosophy -->
    <section class="section" id="philosophy">
      <div class="section-header"><h2>01 &mdash; Design Philosophy</h2></div>
      <div class="grid-auto principles-grid" id="principlesGrid"></div>
    </section>

    <!-- 02 Typography -->
    <section class="section" id="typography">
      <div class="section-header"><h2>02 &mdash; Typography</h2></div>
      <div class="section-desc"><span class="i18n-ja">Crimson Pro（見出し・セリフ）と Instrument Sans（本文・UI）の 2 書体構成です。対比によるリズムが Paper テーマの中核です。</span><span class="i18n-en">Two typefaces: Crimson Pro (headings, serif) and Instrument Sans (body, UI). The contrast between them is the core rhythm of the Paper theme.</span></div>

      <div style="display:flex;gap:24px;margin-bottom:32px;flex-wrap:wrap;">
        <div class="card-base" style="flex:1;min-width:200px;background:transparent;">
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:8px;">Serif</div>
          <div style="font-family:var(--font-serif);font-size:28px;font-weight:300;color:var(--ink-1000);">Crimson Pro</div>
          <div style="font-size:13px;color:var(--ink-500);margin-top:4px;"><span class="i18n-ja">見出し・タイトル・引用・数値</span><span class="i18n-en">Headings, titles, quotes, numbers</span></div>
        </div>
        <div class="card-base" style="flex:1;min-width:200px;background:transparent;">
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:8px;">Sans</div>
          <div style="font-size:24px;font-weight:400;color:var(--ink-1000);">Instrument Sans</div>
          <div style="font-size:13px;color:var(--ink-500);margin-top:4px;"><span class="i18n-ja">本文・UI全般・ラベル</span><span class="i18n-en">Body, UI, labels</span></div>
        </div>
        <div class="card-base" style="flex:1;min-width:200px;background:transparent;">
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:8px;">Mono</div>
          <div style="font-family:var(--font-mono);font-size:20px;font-weight:400;color:var(--ink-1000);">JetBrains Mono</div>
          <div style="font-size:13px;color:var(--ink-500);margin-top:4px;"><span class="i18n-ja">コード・トークン・数値</span><span class="i18n-en">Code, tokens, numbers</span></div>
        </div>
      </div>

      <h3 class="h-section h-section--flush">Font Weights</h3>
      <div id="fontWeights" style="display:flex;flex-direction:column;gap:8px;margin-bottom:40px;"></div>

      <h3 class="h-section h-section--flush">Type Scale</h3>
      <div style="overflow-x:auto;">
        <table class="type-table" id="typeTable"></table>
      </div>
    </section>

    <!-- 03 Color Tokens -->
    <section class="section" id="colors">
      <div class="section-header"><h2>03 &mdash; Color Tokens</h2></div>
      <div id="paletteContainer"></div>

      <h3 class="h-section">Semantic Tokens</h3>
      <p class="section-desc" style="margin-bottom:16px;"><span class="i18n-ja">用途に基づく意味的トークンです。実装時はこちらを優先して使用します。</span><span class="i18n-en">Semantic tokens based on intended use. Prefer these over raw palette values.</span></p>
      <div class="grid-auto semantic-grid" id="semanticGrid"></div>

      <h3 class="h-section">Status Indication</h3>
      <p class="section-desc" style="margin-bottom:16px;"><span class="i18n-ja">色に頼らず、テキストラベル・記号・ボーダー太さでステータスを伝えます。</span><span class="i18n-en">Status is conveyed through text labels, symbols, and border weight — not color.</span></p>
      <div class="status-grid" id="statusGrid"></div>
    </section>

    <!-- 04 Layout -->
    <section class="section" id="layout">
      <div class="section-header"><h2>04 &mdash; Layout</h2></div>
      <div class="section-desc"><span class="i18n-ja">コンテンツの最大幅を狭めに設定し、書籍・雑誌の段組に近い読みやすさを追求します。</span><span class="i18n-en">Narrower max-width for readability closer to book and magazine layouts.</span></div>

      <h3 class="h-section h-section--flush">Page Structure</h3>
      <div class="ref-visual">
        <div class="ref-layer" style="background:var(--paper-white);border:2px solid var(--ink-1000);border-bottom-width:1px;">
          <span class="ref-label">Page Background &middot; paper-white</span>
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:12px;">#fdfdfc</div>
          <div class="ref-layer" style="background:var(--paper-cream);border:1px solid var(--ink-100);">
            <span class="ref-label">Surface &middot; paper-cream</span>
            <div style="font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:16px;">#faf9f7 &middot; border: ink-100 #e0e0e0</div>
            <div class="ref-text-line">
              <span class="ref-text-role">Heading</span>
              <span style="font-family:var(--font-serif);font-size:24px;font-weight:300;color:var(--ink-1000);">Display Heading</span>
            </div>
            <div class="ref-text-line">
              <span class="ref-text-role">Body</span>
              <span style="font-size:14px;color:var(--ink-900);">Body text in ink-900</span>
            </div>
            <div class="ref-text-line">
              <span class="ref-text-role">Sub text</span>
              <span style="font-size:12px;color:var(--ink-600);">Secondary text in ink-600</span>
            </div>
            <div class="ref-inner-card" style="background:var(--paper-white);border:1px solid var(--ink-100);margin-top:16px;">
              <span class="ref-label">Raised &middot; paper-white</span>
              <div style="font-family:var(--font-mono);font-size:11px;color:var(--ink-400);margin-bottom:12px;">#fdfdfc</div>
              <span class="ref-btn" style="background:var(--ink-900);color:var(--paper-white);border-radius:4px;">Primary Button</span>
              <span class="ref-btn" style="background:transparent;color:var(--ink-900);border:1px solid var(--ink-900);border-radius:4px;margin-left:8px;">Secondary</span>
            </div>
          </div>
        </div>
      </div>

      <h3 class="h-section">Breakpoints</h3>
      <div class="grid-auto bp-grid" id="bpGrid"></div>
      <div class="card-base grid-demo" style="margin-top:24px;">
        <div style="font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-500);margin-bottom:12px;">12-Column Grid Preview</div>
        <div class="grid-cols" id="gridPreview" style="grid-template-columns:repeat(12,1fr);"></div>
      </div>
    </section>

    <!-- 05 Spacing -->
    <section class="section" id="spacing">
      <div class="section-header"><h2>05 &mdash; Spacing</h2></div>
      <div class="section-desc"><span class="i18n-ja">8px グリッドベースのスペーシングスケールです。Paper テーマでは space-8 以上の余白を多用します。</span><span class="i18n-en">An 8px grid-based spacing scale. Paper theme uses generous whitespace (space-8 and above).</span></div>
      <div class="spacing-list" id="spacingList"></div>
    </section>

    <!-- 06 Shape & Lines -->
    <section class="section" id="shape">
      <div class="section-header"><h2>06 &mdash; Shape &amp; Lines</h2></div>
      <div class="section-desc"><span class="i18n-ja">角丸を最小限に抑え、紙・印刷物の直線的な質感を維持します。カードの標準は 0px（直角）です。</span><span class="i18n-en">Minimal border-radius to maintain the linear quality of paper and print. Card default is 0px (sharp edges).</span></div>
      <div class="radius-grid" id="radiusGrid"></div>

      <h3 class="h-section">Stroke Width</h3>
      <p class="section-desc"><span class="i18n-ja">1px (stroke-sm) をデフォルトのボーダー幅とします。ヘッダー直下には stroke-lg 以上を使用します。</span><span class="i18n-en">1px (stroke-sm) is the default. Use stroke-lg or heavier below headers.</span></p>
      <div class="stroke-grid" id="strokeGrid"></div>

      <h3 class="h-section">Separators</h3>
      <div class="line-demo-grid" id="lineGrid"></div>
    </section>

    <!-- 07 Material System -->
    <section class="section" id="materials">
      <div class="section-header"><h2>07 &mdash; Material System</h2></div>
      <div class="section-desc"><span class="i18n-ja">Glassmorphism / Liquid Glass は使用しません。紙とインクの物理的特性を再現する 2 つのマテリアルで構成します。</span><span class="i18n-en">No Glassmorphism or Liquid Glass. Two materials recreate the physical properties of paper and ink.</span></div>

      <h3 class="h-section h-section--flush">Material Overview</h3>
      <div class="material-overview">
        <div class="material-overview-card" style="background:var(--paper-cream);border:1px solid var(--ink-100);">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:6px;">Flat</div>
          <div style="font-family:var(--font-serif);font-size:18px;font-weight:600;color:var(--ink-1000);margin-bottom:4px;">Flat Paper</div>
          <div style="font-size:12px;color:var(--ink-600);line-height:1.5;"><span class="i18n-ja">上質紙 — 影なし、罫線のみで区画、平面的。カード・パネル・テーブルに使用。</span><span class="i18n-en">Fine paper — no shadows, sectioned by rules only, flat. Used for cards, panels, and tables.</span></div>
        </div>
        <div class="material-overview-card" style="background:var(--paper-white);box-shadow:4px 4px 0 var(--ink-100),8px 8px 0 var(--ink-50);">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:6px;">Layered</div>
          <div style="font-family:var(--font-serif);font-size:18px;font-weight:600;color:var(--ink-1000);margin-bottom:4px;">Layered Paper</div>
          <div style="font-size:12px;color:var(--ink-600);line-height:1.5;"><span class="i18n-ja">重ねた紙 — 微細な影、紙が浮いた物理感。モーダル・ドロップダウン・ツールチップに使用。</span><span class="i18n-en">Stacked paper — subtle shadows, physical lift. Used for modals, dropdowns, and tooltips.</span></div>
        </div>
      </div>

      <h3 class="h-section h-section--flush">Flat Paper</h3>
      <div class="grid-auto material-demo-grid" id="flatPaperGrid" style="margin-bottom:24px;"></div>

      <h3 class="h-section">Layered Paper</h3>
      <div class="grid-auto material-demo-grid" id="layeredPaperGrid" style="margin-bottom:24px;"></div>

      <h3 class="h-section">Shadows</h3>
      <div class="shadow-grid" id="shadowGrid"></div>
    </section>

    <!-- 08 Elevation -->
    <section class="section" id="elevation">
      <div class="section-header"><h2>08 &mdash; Elevation</h2></div>
      <div class="section-desc"><span class="i18n-ja">z-index の階層定義です。</span><span class="i18n-en">z-index layer definitions.</span></div>
      <div class="elevation-stack" id="elevationStack"></div>
    </section>

    <!-- 09 Motion -->
    <section class="section" id="motion">
      <div class="section-header"><h2>09 &mdash; Motion</h2></div>
      <div class="section-desc"><span class="i18n-ja">紙は動かない。必要な状態遷移のみ短い duration で実行します。ホバーでプレビューを確認できます。</span><span class="i18n-en">Paper does not move. Only necessary state transitions with short durations. Hover to preview.</span></div>

      <h3 class="h-section h-section--flush">Duration &amp; Easing</h3>
      <div class="grid-auto motion-grid" id="motionGrid"></div>

      <h3 class="h-section">Hover Patterns</h3>
      <p class="section-desc"><span class="i18n-ja">ボタンをホバーして動作を確認できます。</span><span class="i18n-en">Hover buttons to preview behavior.</span></p>
      <div class="grid-auto hover-demo-grid">
        <div class="hover-demo-card card-base">
          <div class="hover-demo-name">Primary — Darken</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時に背景が濃くなるパターン。Primary ボタン向け。</span><span class="i18n-en">Background darkens on hover. For Primary buttons.</span></div>
          <button class="btn btn--md btn--primary">Hover me</button>
        </div>
        <div class="hover-demo-card card-base">
          <div class="hover-demo-name">Secondary — Invert</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時に白黒が反転するパターン。Secondary ボタン向け。</span><span class="i18n-en">Black-white inversion on hover. For Secondary buttons.</span></div>
          <button class="btn btn--md btn--secondary">Hover me</button>
        </div>
        <div class="hover-demo-card card-base">
          <div class="hover-demo-name">Ghost — Paper Fill</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時に紙色の背景が現れるパターン。Ghost ボタン向け。</span><span class="i18n-en">Paper-colored background appears on hover. For Ghost buttons.</span></div>
          <button class="btn btn--md btn--ghost">Hover me</button>
        </div>
        <div class="hover-demo-card card-base">
          <div class="hover-demo-name">Card — Border Strengthen</div>
          <div class="hover-demo-desc"><span class="i18n-ja">ホバー時にボーダーが黒に変わり微浮上するパターン。</span><span class="i18n-en">Border turns black and card lifts slightly on hover.</span></div>
          <div class="card-base" style="padding:16px;cursor:pointer;">
            <div style="font-family:var(--font-serif);font-size:14px;font-weight:600;color:var(--ink-1000);margin-bottom:4px;">Card Title</div>
            <div style="font-size:12px;color:var(--ink-600);">Hover to see border change</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 10 Components -->
    <section class="section" id="components">
      <div class="section-header"><h2>10 &mdash; Components</h2></div>
      <div class="section-desc"><span class="i18n-ja">全コンポーネントはデザイントークンから値を導出し、色を排したモノクロームで構成します。</span><span class="i18n-en">All components derive values from design tokens in monochrome.</span></div>

      <!-- Buttons -->
      <h3 class="h-section h-section--flush">Button</h3>
      <div class="demo-panel">
        <div class="demo-label">Variants</div>
        <div class="demo-row">
          <button class="btn btn--md btn--primary">Primary</button>
          <button class="btn btn--md btn--secondary">Secondary</button>
          <button class="btn btn--md btn--ghost">Ghost</button>
          <button class="btn btn--md btn--danger">Danger</button>
        </div>
        <div class="demo-label">Sizes</div>
        <div class="demo-row">
          <button class="btn btn--sm btn--primary">Small</button>
          <button class="btn btn--md btn--primary">Medium</button>
          <button class="btn btn--lg btn--primary">Large</button>
        </div>
        <div class="demo-label">States</div>
        <div class="demo-row">
          <button class="btn btn--md btn--primary">Default</button>
          <button class="btn btn--md btn--primary btn--focused">Focused</button>
          <button class="btn btn--md btn--primary btn--disabled" disabled>Disabled</button>
        </div>
      </div>

      <!-- Card -->
      <h3 class="h-section">Card</h3>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:16px;">
        <div style="background:var(--paper-cream);border:1px solid var(--ink-100);padding:24px;">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:6px;">Flat Paper</div>
          <div style="font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);margin-bottom:8px;">Flat Card</div>
          <div style="font-size:13px;color:var(--ink-600);line-height:1.5;">paper-cream / border: ink-100 / radius: 0px</div>
        </div>
        <div style="background:var(--paper-white);padding:24px;box-shadow:2px 2px 0 var(--ink-50);">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:6px;">Layered Paper</div>
          <div style="font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);margin-bottom:8px;">Layered Card</div>
          <div style="font-size:13px;color:var(--ink-600);line-height:1.5;">paper-white / shadow-flat / radius: 0px</div>
        </div>
        <div style="background:var(--paper-white);padding:24px;box-shadow:0 4px 12px rgba(0,0,0,0.08);">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:6px;">Elevated Paper</div>
          <div style="font-family:var(--font-serif);font-size:16px;font-weight:600;color:var(--ink-1000);margin-bottom:8px;">Elevated Card</div>
          <div style="font-size:13px;color:var(--ink-600);line-height:1.5;">paper-white / shadow-md / radius: 0px</div>
        </div>
      </div>

      <!-- Input -->
      <h3 class="h-section">Input / Text Field</h3>
      <div style="display:flex;flex-direction:column;gap:12px;max-width:400px;margin-bottom:16px;">
        <div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:4px;">Default</div>
          <input type="text" placeholder="Placeholder text..." class="input-demo">
        </div>
        <div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:4px;">Error</div>
          <input type="text" value="Invalid value" class="input-demo input-demo--error">
          <div style="font-size:11px;color:var(--ink-red);margin-top:4px;font-weight:600;">Error: This field is required</div>
        </div>
        <div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-bottom:4px;">Disabled</div>
          <input type="text" placeholder="Disabled" disabled class="input-demo input-demo--disabled">
        </div>
      </div>

      <!-- Badge -->
      <h3 class="h-section">Badge / Tag</h3>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px;">
        <span class="badge-demo badge-demo--default">Default</span>
        <span class="badge-demo badge-demo--live">Live</span>
        <span class="badge-demo badge-demo--pilot">Pilot</span>
        <span class="badge-demo badge-demo--planning">Planning</span>
      </div>

      <!-- Metric Card -->
      <h3 class="h-section">Metric Card</h3>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-bottom:16px;">
        <div class="card-base metric-demo">
          <div style="font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-400);margin-bottom:8px;">Revenue</div>
          <div class="metric-value">¥20.7<small style="font-size:16px;">M</small></div>
          <div class="metric-label"><span class="i18n-ja">年間利益貢献額</span><span class="i18n-en">Annual profit contribution</span></div>
        </div>
        <div class="card-base metric-demo">
          <div style="font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-400);margin-bottom:8px;">Investment</div>
          <div class="metric-value">¥6.5<small style="font-size:16px;">M</small></div>
          <div class="metric-label"><span class="i18n-ja">年間投資額</span><span class="i18n-en">Annual investment</span></div>
        </div>
        <div class="card-base metric-demo">
          <div style="font-size:11px;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--ink-400);margin-bottom:8px;">ROI</div>
          <div class="metric-value">3.2<small style="font-size:16px;">x</small></div>
          <div class="metric-label"><span class="i18n-ja">投資対効果</span><span class="i18n-en">Return on investment</span></div>
        </div>
      </div>

      <!-- Progress Bar -->
      <h3 class="h-section">Progress Bar</h3>
      <div style="max-width:400px;margin-bottom:16px;">
        <div style="display:flex;justify-content:space-between;margin-bottom:4px;"><span style="font-size:12px;color:var(--ink-600);">Progress</span><span style="font-family:var(--font-mono);font-size:12px;color:var(--ink-500);">68%</span></div>
        <div class="progress-demo"><div class="progress-fill" style="width:68%"></div></div>
        <div style="margin-top:16px;display:flex;justify-content:space-between;margin-bottom:4px;"><span style="font-size:12px;color:var(--ink-600);">Completion</span><span style="font-family:var(--font-mono);font-size:12px;color:var(--ink-500);">100%</span></div>
        <div class="progress-demo"><div class="progress-fill" style="width:100%"></div></div>
      </div>

      <!-- Modal -->
      <h3 class="h-section">Modal / Dialog</h3>
      <div class="modal-demo-bg">
        <div class="modal-demo-panel">
          <div class="modal-demo-title">Modal Title</div>
          <div class="modal-demo-body">paper-white / radius: 0px / layered shadow / padding: space-6</div>
          <div style="display:flex;gap:10px;justify-content:flex-end;">
            <button class="btn btn--md btn--secondary" style="height:36px;padding:0 14px;font-size:13px;">Cancel</button>
            <button class="btn btn--md btn--primary" style="height:36px;padding:0 14px;font-size:13px;">Confirm</button>
          </div>
        </div>
      </div>

      <!-- Toast -->
      <h3 class="h-section">Toast / Notification</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px;">
        <div class="toast-demo toast-demo--default">Default toast message</div>
        <div class="toast-demo toast-demo--alt">Alternative toast style</div>
      </div>

      <!-- Table -->
      <h3 class="h-section">Table</h3>
      <div style="overflow-x:auto;">
        <table class="table-demo">
          <thead>
            <tr><th>Token</th><th>Value</th><th>Usage</th></tr>
          </thead>
          <tbody>
            <tr><td>radius-none</td><td>0px</td><td>Card, Panel (default)</td></tr>
            <tr><td>radius-sm</td><td>2px</td><td>Badge, Tag</td></tr>
            <tr><td>radius-md</td><td>4px</td><td>Button</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- 11 Interaction Patterns -->
    <section class="section" id="interactions">
      <div class="section-header"><h2>11 &mdash; Interaction Patterns</h2></div>
      <div class="section-desc"><span class="i18n-ja">ユーザーの操作フローを定義するインタラクションパターンです。</span><span class="i18n-en">Interaction patterns that define user operation flows.</span></div>
      <div class="interaction-grid" id="interactionGrid"></div>
    </section>

    <!-- 12 Iconography -->
    <section class="section" id="iconography">
      <div class="section-header"><h2>12 &mdash; Iconography</h2></div>
      <div class="section-desc"><span class="i18n-ja">Paper テーマではアイコンの使用を最小限にし、テキストラベルを優先します。</span><span class="i18n-en">Paper theme minimizes icon usage and prioritizes text labels.</span></div>
      <table class="icon-table" id="iconTable"></table>
    </section>

    <!-- 13 Platform Guidelines -->
    <section class="section" id="platforms">
      <div class="section-header"><h2>13 &mdash; Platform Guidelines</h2></div>
      <div class="tab-bar" id="tabBar"></div>
      <div id="tabContents"></div>
    </section>

    <!-- 14 Dependencies -->
    <section class="section" id="dependencies">
      <div class="section-header"><h2>14 &mdash; Dependencies</h2></div>
      <div class="section-desc"><span class="i18n-ja">本デザインシステムの実装に必要な外部依存です。</span><span class="i18n-en">External dependencies required for implementing this design system.</span></div>
      <div class="dep-grid" id="depGrid"></div>
    </section>

  </div>
</main>

<div class="toast" id="toast">Copied</div>

<script>
/* i18n helper */
function t(ja, en) {
  return `<span class="i18n-ja">${ja}</span><span class="i18n-en">${en || ja}</span>`;
}

/* Lang Toggle */
function setLang(lang) {
  document.documentElement.dataset.lang = lang;
  document.documentElement.lang = lang === 'en' ? 'en' : 'ja';
  document.querySelectorAll('#langSwitcher button').forEach(b => b.classList.remove('active'));
  document.querySelector(`#langSwitcher button[onclick="setLang('${lang}')"]`).classList.add('active');
}

/* Sidebar toggle */
function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('overlay').classList.toggle('open');
}

/* Data */
const principles = [
  { num:'01', title:'Paper-First', desc:'紙とインクだけで成立するデザイン。色に頼らず、書体・太さ・サイズ・余白で情報の重みを伝える', desc_en:'Design that works with paper and ink alone. Convey weight through type, size, and whitespace — not color' },
  { num:'02', title:'Restrained Color', desc:'黒インクが主役。色付きインクは意味のある場面で控えめに添える', desc_en:'Black ink is the lead. Colored ink is sparingly added only where it carries meaning' },
  { num:'03', title:'Typographic Hierarchy', desc:'見出しのセリフ体と本文のサンセリフ体の対比、ウェイトとサイズの段階で構造を表現する', desc_en:'Structure through serif/sans-serif contrast and graduated weight and size' },
  { num:'04', title:'Generous Whitespace', desc:'紙面の余白は情報そのもの。余白の量と質で読みやすさと格調を生み出す', desc_en:'Whitespace is information itself. Readability and elegance emerge from its quantity and quality' },
  { num:'05', title:'Ink Economy', desc:'すべての要素に「本当にインクを使う価値があるか」を問う。装飾を排し、必要最小限の線と文字で構成する', desc_en:'Ask whether each element deserves ink. Strip decoration, compose with minimal lines and text' },
];

const palettes = [
  { name:'Ink', sub:'Black Scale', colors:[
    {l:'1000',h:'#000000',t:'dark'},{l:'900',h:'#1a1a1a',t:'dark'},{l:'800',h:'#2d2d2d',t:'dark'},
    {l:'700',h:'#404040',t:'dark'},{l:'600',h:'#525252',t:'dark'},{l:'500',h:'#6b6b6b',t:'dark'},
    {l:'400',h:'#8a8a8a',t:'dark'},{l:'300',h:'#a3a3a3',t:'light'},{l:'200',h:'#c4c4c4',t:'light'},
    {l:'100',h:'#e0e0e0',t:'light'},{l:'50',h:'#f0f0f0',t:'light'},
  ]},
  { name:'Paper', sub:'White Scale', colors:[
    {l:'white',h:'#fdfdfc',t:'light'},{l:'cream',h:'#faf9f7',t:'light'},{l:'warm',h:'#f5f4f0',t:'light'},
    {l:'kraft',h:'#eeedea',t:'light'},{l:'aged',h:'#e8e7e3',t:'light'},{l:'shadow',h:'#dddcd8',t:'light'},
  ]},
  { name:'Accent Ink', sub:'Colored Ink', colors:[
    {l:'blue',h:'#4a6d8c',t:'dark'},{l:'green',h:'#4a7c5c',t:'dark'},
    {l:'amber',h:'#8c6d3f',t:'dark'},{l:'red',h:'#8c4a4a',t:'dark'},
  ]},
  { name:'Accent Wash', sub:'Ink Wash Background', colors:[
    {l:'wash-blue',h:'#eef2f7',t:'light'},{l:'wash-green',h:'#edf4ef',t:'light'},
    {l:'wash-amber',h:'#f5f1ea',t:'light'},{l:'wash-red',h:'#f5eded',t:'light'},
  ]},
];

const semanticTokens = [
  {name:'bg-page',         hex:'#fdfdfc', maps:'paper-white',  desc:'ページ全体の背景',desc_en:'Page background'},
  {name:'bg-surface',      hex:'#faf9f7', maps:'paper-cream',  desc:'カード・パネル背景',desc_en:'Card / panel surface'},
  {name:'bg-surface-raised',hex:'#fdfdfc',maps:'paper-white',  desc:'モーダル・浮上パネル',desc_en:'Modal / raised panel'},
  {name:'bg-recessed',     hex:'#f5f4f0', maps:'paper-warm',   desc:'凹んだ領域・インプット',desc_en:'Recessed area / input'},
  {name:'border-default',  hex:'#e0e0e0', maps:'ink-100',      desc:'通常のボーダー',desc_en:'Default border'},
  {name:'border-strong',   hex:'#c4c4c4', maps:'ink-200',      desc:'強調ボーダー',desc_en:'Strong border'},
  {name:'border-heavy',    hex:'#000000', maps:'ink-1000',     desc:'ヘッダー下線・重要区切り',desc_en:'Header rule / major divider'},
  {name:'text-primary',    hex:'#1a1a1a', maps:'ink-900',      desc:'本文テキスト',desc_en:'Primary text'},
  {name:'text-heading',    hex:'#000000', maps:'ink-1000',     desc:'見出し',desc_en:'Headings'},
  {name:'text-secondary',  hex:'#525252', maps:'ink-600',      desc:'補助テキスト',desc_en:'Secondary text'},
  {name:'text-muted',      hex:'#8a8a8a', maps:'ink-400',      desc:'非活性テキスト',desc_en:'Muted text'},
  {name:'interactive',     hex:'#4a6d8c', maps:'ink-blue',     desc:'リンク・選択状態',desc_en:'Link / selected state'},
  {name:'focus-ring',      hex:'#4a6d8c', maps:'ink-blue',     desc:'フォーカスインジケーター',desc_en:'Focus indicator'},
];

const statusItems = [
  {name:'Success', label:'Complete', symbol:'\u2713', color:'var(--ink-green)', bg:'var(--wash-green)', border:'ink-green', borderHex:'#4a7c5c'},
  {name:'Warning', label:'Attention', symbol:'!', color:'var(--ink-amber)', bg:'var(--wash-amber)', border:'ink-amber', borderHex:'#8c6d3f'},
  {name:'Error',   label:'Error',     symbol:'\u00d7', color:'var(--ink-red)', bg:'var(--wash-red)', border:'ink-red', borderHex:'#8c4a4a'},
  {name:'Info',    label:'Note',      symbol:'i', color:'var(--ink-blue)', bg:'var(--wash-blue)', border:'ink-blue', borderHex:'#4a6d8c'},
];

const typeScale = [
  {token:'display-xl', size:'56px',rem:'3.5rem',weight:300,lh:'1.1',ls:'-1.5px',usage:'Hero heading',font:'serif'},
  {token:'display-lg', size:'44px',rem:'2.75rem',weight:300,lh:'1.15',ls:'-1px',usage:'Section heading',font:'serif'},
  {token:'display-md', size:'36px',rem:'2.25rem',weight:400,lh:'1.2',ls:'-0.5px',usage:'Page title',font:'serif'},
  {token:'heading-lg', size:'28px',rem:'1.75rem',weight:600,lh:'1.3',ls:'-0.3px',usage:'Card title',font:'serif'},
  {token:'heading-md', size:'22px',rem:'1.375rem',weight:600,lh:'1.35',ls:'-0.2px',usage:'Subsection',font:'serif'},
  {token:'heading-sm', size:'18px',rem:'1.125rem',weight:600,lh:'1.4',ls:'0',usage:'Small heading',font:'serif'},
  {token:'body-lg',    size:'16px',rem:'1rem',weight:400,lh:'1.7',ls:'0',usage:'Body large',font:'sans'},
  {token:'body-md',    size:'14px',rem:'0.875rem',weight:400,lh:'1.6',ls:'0',usage:'Body (default)',font:'sans'},
  {token:'body-sm',    size:'12px',rem:'0.75rem',weight:400,lh:'1.5',ls:'0.1px',usage:'Caption',font:'sans'},
  {token:'label-lg',   size:'14px',rem:'0.875rem',weight:600,lh:'1.2',ls:'0.5px',usage:'Button label',font:'sans'},
  {token:'label-md',   size:'13px',rem:'0.8125rem',weight:700,lh:'1.2',ls:'2px',usage:'Section label',font:'sans',transform:'uppercase'},
  {token:'label-sm',   size:'11px',rem:'0.6875rem',weight:600,lh:'1.2',ls:'1.5px',usage:'Tag / Badge',font:'sans',transform:'uppercase'},
  {token:'mono-md',    size:'13px',rem:'0.8125rem',weight:400,lh:'1.7',ls:'0',usage:'Code block',font:'mono'},
  {token:'mono-sm',    size:'11px',rem:'0.6875rem',weight:400,lh:'1.5',ls:'0',usage:'Inline code',font:'mono'},
];

const spacingScale = [
  {token:'space-0',val:'0px',px:0},{token:'space-1',val:'2px',px:2},{token:'space-2',val:'4px',px:4},
  {token:'space-3',val:'8px',px:8},{token:'space-4',val:'12px',px:12},{token:'space-5',val:'16px',px:16},
  {token:'space-6',val:'24px',px:24},{token:'space-7',val:'32px',px:32},{token:'space-8',val:'48px',px:48},
  {token:'space-9',val:'64px',px:64},{token:'space-10',val:'96px',px:96},{token:'space-11',val:'128px',px:128},
];

const breakpoints = [
  {name:'Mobile',range:'0 \u2013 639px',cols:4,gutter:'16px',margin:'16px',maxW:'100%'},
  {name:'Tablet',range:'640 \u2013 1023px',cols:8,gutter:'24px',margin:'32px',maxW:'100%'},
  {name:'Desktop',range:'1024 \u2013 1439px',cols:12,gutter:'24px',margin:'auto',maxW:'1120px'},
  {name:'Wide',range:'1440px+',cols:12,gutter:'32px',margin:'auto',maxW:'1280px'},
];

const radii = [
  {token:'radius-none',val:'0px',size:56},
  {token:'radius-sm',val:'2px',size:48},
  {token:'radius-md',val:'4px',size:48},
  {token:'radius-full',val:'9999px',size:48},
];

const strokeWidths = [
  {token:'stroke-hairline',val:'0.5px',px:0.5},{token:'stroke-sm',val:'1px',px:1},
  {token:'stroke-md',val:'1.5px',px:1.5},{token:'stroke-lg',val:'2px',px:2},{token:'stroke-xl',val:'3px',px:3},
];

const flatPaperMaterials = [
  {name:'Flat Paper',desc:'基本カード \u2014 罫線のみで区画',desc_en:'Basic card \u2014 sectioned by rules only',
   style:'background:#faf9f7;border:1px solid #e0e0e0;',
   code:'background: var(--paper-cream);\nborder: 1px solid var(--ink-100);'},
  {name:'Paper Recessed',desc:'凹面 \u2014 インプット・埋め込み領域',desc_en:'Recessed \u2014 input, embedded areas',
   style:'background:#f5f4f0;border:1px solid #e0e0e0;',
   code:'background: var(--paper-warm);\nborder: 1px solid var(--ink-100);'},
  {name:'Paper Kraft',desc:'サイドバー・ヘッダー背景',desc_en:'Sidebar / header background',
   style:'background:#eeedea;border:1px solid #e0e0e0;',
   code:'background: var(--paper-kraft);\nborder: 1px solid var(--ink-100);'},
];

const layeredPaperMaterials = [
  {name:'Layered Paper',desc:'フラットな紙の影で浮上',desc_en:'Flat paper shadow for lift',
   style:'background:#fdfdfc;border:1px solid #e0e0e0;box-shadow:2px 2px 0 #f0f0f0;',
   code:'background: var(--paper-white);\nborder: 1px solid var(--ink-100);\nbox-shadow: 2px 2px 0 var(--ink-50);'},
  {name:'Paper Modal',desc:'多層フラット影 \u2014 モーダル',desc_en:'Multi-layer flat shadow \u2014 modal',
   style:'background:#fdfdfc;border:1px solid #c4c4c4;box-shadow:4px 4px 0 #e0e0e0,8px 8px 0 #f0f0f0;',
   code:'background: var(--paper-white);\nborder: 1px solid var(--ink-200);\nbox-shadow:\n  4px 4px 0 var(--ink-100),\n  8px 8px 0 var(--ink-50);'},
  {name:'Paper Elevated',desc:'自然な落ち影 \u2014 ドロップダウン',desc_en:'Natural drop shadow \u2014 dropdown',
   style:'background:#fdfdfc;border:1px solid #e0e0e0;box-shadow:0 4px 12px rgba(0,0,0,0.08);',
   code:'background: var(--paper-white);\nborder: 1px solid var(--ink-100);\nbox-shadow: 0 4px 12px rgba(0,0,0,0.08);'},
];

const shadows = [
  {name:'shadow-flat',value:'2px 2px 0 #f0f0f0'},
  {name:'shadow-sm',value:'0 1px 3px rgba(0,0,0,0.06)'},
  {name:'shadow-md',value:'0 4px 12px rgba(0,0,0,0.08)'},
  {name:'shadow-lg',value:'0 8px 24px rgba(0,0,0,0.1)'},
];

const lineStyles = [
  {name:'Standard',desc:'基本の罫線',desc_en:'Standard rule',style:'border-top:1px solid #e0e0e0;'},
  {name:'Strong',desc:'セクション区切り',desc_en:'Section divider',style:'border-top:1px solid #000000;'},
  {name:'Double',desc:'重要なセクション区切り',desc_en:'Major section divider',style:'border-top:3px double #000000;'},
  {name:'Dashed',desc:'補助的な区切り',desc_en:'Auxiliary divider',style:'border-top:1px dashed #c4c4c4;'},
  {name:'Editorial Rule',desc:'ヘッダー下の太い罫線',desc_en:'Heavy rule below headers',style:'border-top:2px solid #000000;'},
];

const elevationLayers = [
  {name:'Tooltip',z:500,bg:'#fdfdfc'},{name:'Toast',z:400,bg:'#1a1a1a'},
  {name:'Modal',z:300,bg:'#fdfdfc'},{name:'Overlay',z:200,bg:'#fdfdfc'},
  {name:'Dropdown',z:100,bg:'#fdfdfc'},{name:'Raised',z:10,bg:'#faf9f7'},
  {name:'Base',z:0,bg:'#fdfdfc'},
];

const motionTokens = [
  {name:'Instant',duration:'80ms',easing:'ease',desc:'ホバー・フォーカス',desc_en:'Hover / focus'},
  {name:'Fast',duration:'150ms',easing:'ease',desc:'ボタン押下・切り替え',desc_en:'Button / toggle'},
  {name:'Normal',duration:'200ms',easing:'ease-out',desc:'パネル展開',desc_en:'Panel expand'},
  {name:'Slow',duration:'300ms',easing:'ease-out',desc:'モーダル表示',desc_en:'Modal display'},
];

const iconProps = [
  ['Style','Outline (stroke width: 1.5px)\u3001直線的'],
  ['Optical Size','16x16px (UI) / 20x20px (Nav) / 24x24px (Decorative)'],
  ['Default Color','ink-500 (#6b6b6b)'],
  ['Active Color','ink-900 (#1a1a1a)'],
  ['Recommended Set','Lucide (Outline\u3001角丸最小設定)'],
  ['Note',t('アイコンの使用を最小限にし、テキストラベルを優先','Minimize icon usage, prioritize text labels')],
];

const platformData = {
  'Web Page':{
    ja:[
      'ヒーローにはセリフ体 display-xl (light 300) + イタリックの組み合わせで印刷物のような格調を表現',
      'ヘッダー直下に stroke-lg の黒線 (border-heavy) を配置し、紙面の「天」を定義',
      'セクション間は space-9 (64px) 以上の余白',
      'CTA ボタンは ink-900 背景の btn-primary。色は使わない',
      '背景にグリッドパターン (opacity: 0.3) を敷き、方眼紙の質感を付与',
      'ヘッダーラベルに label-md (uppercase, bold, tracking-widest) で新聞風の欄外見出し',
    ],
    en:[
      'Use serif display-xl (light 300) + italic for hero headings with editorial elegance',
      'Place stroke-lg black rule (border-heavy) below header to define the page "head"',
      'Use space-9 (64px) or more between sections',
      'CTA buttons use ink-900 background (btn-primary). No color',
      'Grid pattern background (opacity: 0.3) for graph paper texture',
      'Header labels use label-md (uppercase, bold, widest tracking) for editorial feel',
    ],
  },
  'Web App':{
    ja:[
      'サーフェス階層: bg-page (paper-white) \u2192 bg-surface (paper-cream) \u2192 bg-surface-raised (paper-white)',
      'サイドバーには paper-kraft 背景 + 右辺 stroke-sm ボーダー',
      'ヘッダーには paper-white 背景 + backdrop-filter: blur(8px) + 下辺 stroke-sm ボーダー',
      'フォーカスリングは ink-700 の 2px solid outline + 2px offset',
      '本文は body-md (14px)\u3001密度の高い UI では body-sm (12px)',
    ],
    en:[
      'Surface hierarchy: bg-page (paper-white) \u2192 bg-surface (paper-cream) \u2192 bg-surface-raised (paper-white)',
      'Sidebar: paper-kraft background + right border stroke-sm',
      'Header: paper-white background + backdrop-filter: blur(8px) + bottom border stroke-sm',
      'Focus ring: ink-700 2px solid outline + 2px offset',
      'Body: body-md (14px); dense UI: body-sm (12px)',
    ],
  },
  'iOS App':{
    ja:[
      'iOS HIG を優先し、カラートークンのみ本システムから適用',
      'タッチターゲット: 最小 44x44pt',
      'Spacing: space-4 (12px) を最小パディング',
      'SF Pro を基本フォント、見出しのみ Crimson Pro を検討',
      'Dynamic Type をサポートし、Type Scale は参考値として扱う',
      'ダークモードでは紙色を反転 (paper-white \u2192 ink-900, ink-900 \u2192 paper-cream)',
    ],
    en:[
      'Prioritize iOS HIG; apply only color tokens from this system',
      'Touch targets: minimum 44x44pt',
      'Spacing: space-4 (12px) as minimum padding',
      'SF Pro as base font; consider Crimson Pro for headings only',
      'Support Dynamic Type; treat Type Scale as reference values',
      'Dark mode inverts paper colors (paper-white \u2192 ink-900, ink-900 \u2192 paper-cream)',
    ],
  },
  'Presentation':{
    ja:[
      'アスペクト比: 16:9 (1920x1080)',
      '背景: paper-white + グリッドパターン (opacity: 0.15)',
      'タイトル: display-xl (56px)\u3001Crimson Pro Light 300',
      '本文: body-lg (16px) 以上（視認性確保）',
      'コードブロック: mono-md\u3001paper-warm 背景',
      '数値強調はセリフ体 light + 大サイズで表現（色は使わない）',
      'セクション区切りに separator-double (3px double black) を使用',
    ],
    en:[
      'Aspect ratio: 16:9 (1920x1080)',
      'Background: paper-white + grid pattern (opacity: 0.15)',
      'Title: display-xl (56px), Crimson Pro Light 300',
      'Body: body-lg (16px) or larger for readability',
      'Code blocks: mono-md, paper-warm background',
      'Emphasize numbers with serif light + large size (no color)',
      'Use separator-double (3px double black) for section dividers',
    ],
  },
};

const interactionPatterns = [
  {
    title:'Drill-Down Navigation',
    title_en:'Drill-Down Navigation',
    steps:[
      {n:'1', ja:'概要カード群をグリッド表示', en:'Display overview cards in grid'},
      {n:'2', ja:'カードクリック → selected 状態（border-color: ink-900）', en:'Click card → selected state (border-color: ink-900)'},
      {n:'3', ja:'詳細セクションにスムーズスクロール + コンテンツレンダリング', en:'Smooth scroll to detail section + render content'},
      {n:'4', ja:'詳細内の行クリック → アコーディオンで打ち手展開', en:'Click detail row → expand measures via accordion'},
    ]
  },
  {
    title:'Expandable Tree',
    title_en:'Expandable Tree',
    steps:[
      {n:'1', ja:'ヘッダークリックで子要素の表示/非表示を切り替え', en:'Click header to toggle child visibility'},
      {n:'2', ja:'左辺のツリーラインで親子関係を視覚化', en:'Tree line on left visualizes parent-child relationship'},
      {n:'3', ja:'同時に複数ノードを展開可能', en:'Multiple nodes can be expanded simultaneously'},
    ]
  },
  {
    title:'Time Period Toggle',
    title_en:'Time Period Toggle',
    steps:[
      {n:'1', ja:'タブボタンで期間を切り替え（例: 1年目 / 3年累計）', en:'Switch periods via tab buttons (e.g., Year 1 / 3-Year Total)'},
      {n:'2', ja:'メトリクス値を直接 DOM 書き換え', en:'Metric values updated via direct DOM manipulation'},
    ]
  },
];

const dependencyItems = [
  {name:'Tailwind CSS', desc:'ユーティリティクラスベース。カスタムプロパティを tailwind.config で拡張', desc_en:'Utility-class based. Extend custom properties via tailwind.config'},
  {name:'Google Fonts', desc:'Crimson Pro (300, 400, 600, 400italic), Instrument Sans (400, 600)', desc_en:'Crimson Pro (300, 400, 600, 400italic), Instrument Sans (400, 600)'},
  {name:'JetBrains Mono', desc:'Google Fonts or self-hosted', desc_en:'Google Fonts or self-hosted'},
  {name:'Lucide Icons', desc:'Outline スタイル、角丸最小', desc_en:'Outline style, minimal border-radius'},
  {name:'JavaScript', desc:'Vanilla JS（IntersectionObserver, accordion 制御）', desc_en:'Vanilla JS (IntersectionObserver, accordion control)'},
];

/* Render functions */
function copyHex(hex) {
  navigator.clipboard.writeText(hex);
  const el = document.getElementById('toast');
  el.textContent = 'Copied ' + hex;
  el.classList.add('show');
  setTimeout(() => el.classList.remove('show'), 1200);
}

function copyText(text) {
  navigator.clipboard.writeText(text);
  const el = document.getElementById('toast');
  el.textContent = 'Copied!';
  el.classList.add('show');
  setTimeout(() => el.classList.remove('show'), 1200);
}

// 01 Design Philosophy
document.getElementById('principlesGrid').innerHTML = principles.map(p =>
  `<div class="card-base"><div class="principle-num">${p.num}</div><div class="principle-title">${p.title}</div><div class="principle-desc">${t(p.desc, p.desc_en)}</div></div>`
).join('');

// 02 Typography
const fontWeights = [
  {weight:300,name:'Light',font:'serif'},{weight:400,name:'Regular',font:'sans'},
  {weight:600,name:'SemiBold',font:'serif'},{weight:700,name:'Bold',font:'sans'},
  {weight:'400 italic',name:'Italic',font:'serif'},
];
document.getElementById('fontWeights').innerHTML = fontWeights.map(fw => {
  const fi = fw.font === 'serif' ? 'var(--font-serif)' : fw.font === 'mono' ? 'var(--font-mono)' : 'var(--font-sans)';
  const w = typeof fw.weight === 'string' && fw.weight.includes('italic') ? '400' : fw.weight;
  const fs = typeof fw.weight === 'string' && fw.weight.includes('italic') ? 'font-style:italic;' : '';
  return `<div style="display:flex;align-items:baseline;gap:16px;padding:12px 16px;border:1px solid var(--ink-100);"><span class="label-mono" style="width:52px;text-align:right;flex-shrink:0;">${fw.weight}</span><span style="font-family:${fi};font-size:24px;font-weight:${w};${fs}color:var(--ink-1000);flex:1;">The quick brown fox jumps over the lazy dog</span><span class="label-mono" style="flex-shrink:0;">${fw.name} (${fw.font})</span></div>`;
}).join('');

// Type Scale
const tt = document.getElementById('typeTable');
let thtml = '<thead><tr><th>Token</th><th>Preview</th><th>Size</th><th>Weight</th><th>Line Height</th></tr></thead><tbody>';
typeScale.forEach(s => {
  const ff = s.font === 'mono' ? 'var(--font-mono)' : s.font === 'serif' ? 'var(--font-serif)' : 'var(--font-sans)';
  const tx = s.transform ? `text-transform:${s.transform};` : '';
  const previewSize = Math.min(parseInt(s.size), 36);
  thtml += `<tr>
    <td><span class="type-token">${s.token}</span><br><span class="type-meta">${s.usage} (${s.font})</span></td>
    <td><span style="font-family:${ff};font-size:${previewSize}px;font-weight:${s.weight};letter-spacing:${s.ls};color:var(--ink-1000);${tx}">The quick brown fox</span></td>
    <td><span class="type-meta">${s.size}<br>${s.rem}</span></td>
    <td><span class="type-meta">${s.weight}</span></td>
    <td><span class="type-meta">${s.lh}</span></td>
  </tr>`;
});
thtml += '</tbody>';
tt.innerHTML = thtml;

// 03 Color Tokens
document.getElementById('paletteContainer').innerHTML = palettes.map(p =>
  `<div class="palette-group"><div class="palette-label">${p.name} <span>${p.sub}</span></div><div class="swatches">${
    p.colors.map(c => `<div class="swatch ${c.t}" style="background:${c.h}" onclick="copyHex('${c.h}')"><span class="swatch-label">${c.l}</span><span class="swatch-hex">${c.h}</span></div>`).join('')
  }</div></div>`
).join('');

// Semantic tokens
document.getElementById('semanticGrid').innerHTML = semanticTokens.map(s =>
  `<div class="card-base semantic-card" onclick="copyHex('${s.hex}')"><div class="semantic-dot" style="background:${s.hex};border:1px solid var(--ink-100);"></div><div><div class="semantic-name">${s.name}</div><div class="semantic-detail">${s.maps} \u00b7 ${s.hex} \u00b7 ${t(s.desc, s.desc_en)}</div></div></div>`
).join('');

// Status
document.getElementById('statusGrid').innerHTML = statusItems.map(s =>
  `<div class="card-base status-card" style="border-color:${s.borderHex};"><h3>${s.name}</h3><div class="status-demo" style="background:${s.bg};border-top:1px solid ${s.borderHex};"><div class="status-symbol" style="color:${s.color};">${s.symbol}</div><div><div class="status-text" style="color:${s.color};">${s.label}</div><div style="font-family:var(--font-mono);font-size:10px;color:var(--ink-400);margin-top:2px;">${s.border}</div></div></div></div>`
).join('');

// 04 Layout — Breakpoints
document.getElementById('bpGrid').innerHTML = breakpoints.map(b =>
  `<div class="card-base"><div class="bp-name">${b.name}</div><div class="bp-range">${b.range}</div><div class="bp-detail">Columns: ${b.cols}<br>Gutter: ${b.gutter}<br>Margin: ${b.margin}<br>Max: ${b.maxW}</div></div>`
).join('');
document.getElementById('gridPreview').innerHTML = Array.from({length:12}, (_,i) => `<div class="grid-col">${i+1}</div>`).join('');

// 05 Spacing
const maxPx = 128;
document.getElementById('spacingList').innerHTML = spacingScale.map(s => {
  const w = s.px === 0 ? 2 : Math.max(2, (s.px / maxPx) * 100);
  return `<div class="spacing-row"><span class="spacing-token">${s.token}</span><span class="spacing-value">${s.val}</span><div class="spacing-bar" style="width:${w}%"></div></div>`;
}).join('');

// 06 Shape & Lines — Radius
document.getElementById('radiusGrid').innerHTML = radii.map(r => {
  const rad = r.val === '9999px' ? `${r.size/2}px` : r.val;
  return `<div class="radius-item"><div class="radius-box" style="width:${r.size}px;height:${r.size}px;border-radius:${rad};"></div><div class="radius-label">${r.token}</div><div class="radius-val">${r.val}</div></div>`;
}).join('');

document.getElementById('strokeGrid').innerHTML = strokeWidths.map(s =>
  `<div class="stroke-row"><span class="stroke-token">${s.token}</span><span class="stroke-value">${s.val}</span><div class="stroke-line" style="border-top-width:${s.px}px;"></div></div>`
).join('');

// Separators (lines)
document.getElementById('lineGrid').innerHTML = lineStyles.map(l =>
  `<div class="line-demo"><div class="line-demo-label">${l.name} \u2014 ${t(l.desc, l.desc_en)}</div><div style="${l.style}"></div></div>`
).join('');

// 07 Materials
function renderMaterialCards(container, items) {
  container.innerHTML = items.map(e =>
    `<div class="material-demo-card" style="${e.style}"><div class="material-name">${e.name}</div><div class="material-desc">${t(e.desc, e.desc_en)}</div>${e.code ? `<div class="material-code">${e.code}<button class="copy-btn" onclick="event.stopPropagation();copyText(\`${e.code.replace(/`/g,"\\`")}\`)">Copy</button></div>` : ''}</div>`
  ).join('');
}
renderMaterialCards(document.getElementById('flatPaperGrid'), flatPaperMaterials);
renderMaterialCards(document.getElementById('layeredPaperGrid'), layeredPaperMaterials);

// Shadows
document.getElementById('shadowGrid').innerHTML = shadows.map(s =>
  `<div class="shadow-item" style="box-shadow:${s.value}"><span class="shadow-label">${s.name}</span></div>`
).join('');

// 08 Elevation
document.getElementById('elevationStack').innerHTML = elevationLayers.map((l, i) => {
  const top = i * 46;
  const textColor = l.name === 'Toast' ? '#fdfdfc' : '#1a1a1a';
  return `<div class="elevation-layer" style="background:${l.bg};top:${top}px;left:${i*8}px;right:${i*8}px;z-index:${700-i*100};color:${textColor};"><span class="elevation-name">${l.name}</span><span class="elevation-z">z-index: ${l.z}</span></div>`;
}).join('');

// 09 Motion
document.getElementById('motionGrid').innerHTML = motionTokens.map(m =>
  `<div class="card-base motion-card" onmouseenter="this.querySelector('.motion-demo').style.transitionDuration='${m.duration}';this.querySelector('.motion-demo').style.transform='scale(1.15) translateY(-4px)';this.querySelector('.motion-demo').style.boxShadow='0 4px 12px rgba(0,0,0,0.08)';" onmouseleave="this.querySelector('.motion-demo').style.transform='';this.querySelector('.motion-demo').style.boxShadow='';">
    <div class="motion-demo" style="transition-duration:${m.duration};transition-timing-function:${m.easing};"></div>
    <div class="motion-name">${m.name}</div>
    <div class="motion-val">${m.duration} \u00b7 ${m.easing}</div>
  </div>`
).join('');

// 11 Interaction Patterns
document.getElementById('interactionGrid').innerHTML = interactionPatterns.map(p =>
  `<div class="card-base interaction-card">
    <div class="interaction-title">${t(p.title, p.title_en)}</div>
    <ol class="interaction-steps">${p.steps.map(s =>
      `<li data-step="${s.n}.">${t(s.ja, s.en)}</li>`
    ).join('')}</ol>
  </div>`
).join('');

// 12 Iconography
document.getElementById('iconTable').innerHTML = iconProps.map(([k,v]) => `<tr><td>${k}</td><td>${v}</td></tr>`).join('');

// 13 Platforms
const platformKeys = Object.keys(platformData);
document.getElementById('tabBar').innerHTML = platformKeys.map((key, i) =>
  `<button class="tab-btn${i===0?' active':''}" onclick="switchTab('${key}',this)">${key}</button>`
).join('');
document.getElementById('tabContents').innerHTML = platformKeys.map((key, i) => {
  const d = platformData[key];
  const items = d.ja.map((item, j) => `<li>${t(item, d.en[j])}</li>`).join('');
  return `<div class="tab-content${i===0?' active':''}" data-tab="${key}"><ul class="platform-list">${items}</ul></div>`;
}).join('');

function switchTab(key, btn) {
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
  btn.classList.add('active');
  document.querySelector(`.tab-content[data-tab="${key}"]`).classList.add('active');
}

// 14 Dependencies
document.getElementById('depGrid').innerHTML = dependencyItems.map(d =>
  `<div class="card-base dep-card"><div class="dep-name">${d.name}</div><div class="dep-desc">${t(d.desc, d.desc_en)}</div></div>`
).join('');

/* Sidebar: Intersection Observer */
const sections = document.querySelectorAll('.section');
const navLinks = document.querySelectorAll('.nav-group a');

const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      navLinks.forEach(l => l.classList.remove('active'));
      const link = document.querySelector(`.nav-group a[href="#${entry.target.id}"]`);
      if (link) link.classList.add('active');
    }
  });
}, { rootMargin: '-20% 0px -70% 0px' });

sections.forEach(section => observer.observe(section));

/* Sidebar nav click close on mobile */
navLinks.forEach(link => {
  link.addEventListener('click', () => {
    if (window.innerWidth < 1024) {
      document.getElementById('sidebar').classList.remove('open');
      document.getElementById('overlay').classList.remove('open');
    }
  });
});
</script>
</body>
</html>
